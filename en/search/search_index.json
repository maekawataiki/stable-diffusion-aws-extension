{"config":{"lang":["en"],"separator":"[\\s\\-]+","pipeline":["stopWordFilter"]},"docs":[{"location":"","title":"Overview","text":"<p>The Extension for Stable Diffusion on AWS solution helps customers migrate their existing Stable Diffusion model training, inference, and finetuning workloads from on-premises servers to Amazon SageMaker using extension and CloudFormation template. By leveraging elastic resources in the cloud, it accelerates model iteration and avoids performance bottlenecks associated with single-server deployments.</p> <p>This implementation guide provides an overview of the solution, its reference architecture and components, considerations for planning the deployment, configuration steps for deploying the solution to the Amazon Web Services (AWS) Cloud. </p>"},{"location":"concepts/","title":"Concepts","text":"<p>This section describes key concepts and defines terminology specific to this solution: </p>"},{"location":"cost/","title":"Cost","text":"<p>You are responsible for the cost of AWS services used when running this solution. </p>"},{"location":"cost/#use-auto-scale-amazon-sagemaker-inference-endpoint-for-image-inference","title":"Use auto-scale Amazon SageMaker Inference Endpoint for Image Inference","text":"<p>As of December 2023, for example, assuming that use will actively inference image for 8 hours per day, 20 working days per month(Assuming that using the standard Stable Diffusion XL model to generate a 1024 X 1024 image takes an average of 7 seconds. This running time can generate 72000 images in one month), the estimated cost of using this solution in the US East (Virginia)(us-east-1) is $310.45 per month.</p> Service Usage Cost/Month Amazon SageMaker $276.00 Number of models per endpoint (1), Storage (General Purpose SSD (gp2)), Instance name (ml.g5.2xlarge), Number of models deployed (1), Number of instances per endpoint (1), Endpoint hour(s) per day (8), Endpoint day(s) per month (20), Storage amount (240 GB per month) AWS Lambda $0.02 Architecture (x86), Architecture (x86), Invoke Mode (Buffered), Amount of ephemeral storage allocated (10 GB), Number of requests (300000 per month), Concurrency (10) Amazon API Gateway $1.05 REST API request units (thousands), Cache memory size (GB) (None), WebSocket message units (thousands), HTTP API requests units (thousands), Average message size (32 KB), Requests ( per month), Requests (300 per month) Amazon Simple Storage Service (S3) $27.70 S3 Standard storage (1000 GB per month), PUT, COPY, POST, LIST requests to S3 Standard (), GET, SELECT, and all other requests from S3 Standard (1000000), Data returned by S3 Select (1000 GB per month) DT Inbound: All other regions (0 TB per month), DT Outbound: Internet (40 GB per month) Amazon DynamoDB $0.50 Table class (Standard), Average item size (all attributes) (1 KB), Data storage size (2 GB) AWS Step Functions $0.13 Workflow requests (600 per month), State transitions per workflow (15) Amazon CloudWatch $5.05 Standard Logs: Data Ingested (10 GB) Total $310.45"},{"location":"cost/#use-amazon-sagemaker-to-train-model","title":"Use Amazon SageMaker to Train Model","text":"<p>Assume that on the basis of inference images, users train for 300 hours per month as the calculation standard (using Kohya, fine-tuning a new safetensor model based on Stable Diffusion V1.5, 1000 steps of iteration, takes 387 seconds. 300 hours of training means one month of training 2790 models), the estimated cost of using this solution would increase by $526.18 in US East (N. Virginia) (us-east-1).</p> Service Usage Cost/Month Amazon SageMaker $526.18 Storage (General Purpose SSD (gp2)), Instance name (ml.g5.2xlarge), Number of training jobs per month (300), Number of instances per job (1), Hour(s) per instance per job (1)"},{"location":"faq/","title":"Frequently Asked Questions","text":""},{"location":"faq/#general","title":"General","text":"<p>Q: What is Extension for Stable Diffusion on AWS?</p> <p>Extension for Stable Diffusion on AWS is an AWS solution that aims to assists customers migrate their Stable Diffusion model training, inference, and finetuning workloads on Stable Diffusion WebUI from local servers to Amazon SageMaker by providing extension and AWS CloudFormation template. By leveraging elastic cloud resources, this solution accelerates model iteration and mitigates performance bottlenecks associated with single-server deployments. </p> <p>Q: What are the native features/third-party extensions of Stable Diffusion WebUI supported by this solution?</p> <p>This solution supports multiply native features/third-party extensions of Stable Diffusion WebUI. More details can be found at Features and Benefits.</p> <p>Q: What is the licence of this solution?</p> <p>This solution is provided under the Apache-2.0 license. It is a permissive free software license written by the Apache Software Foundation. It allows users to use the software for any purpose, to distribute it, to modify it, and to distribute modified versions of the software under the terms of the license, without concern for royalties.</p> <p>Q: How can I submit a feature request or bug report?</p> <p>You can submit feature requests and bug report through the GitHub issues. Here are the templates for feature request, bug report.</p>"},{"location":"faq/#installation-and-configuration","title":"Installation and Configuration","text":"<p>Q: Is there a specific order for installing third-party plugins and the plugins for this solution?</p> <p>Currently, it is recommended that users install the third-party extensions supported by this solution before installing the solution's own extension. However, the installation order can be changed as well. In that case, a restart of the WebUI is required to ensure the successful functioning of the features.</p> <p>Q: After successfully installing the web UI, I am unable to access it in my browser. How can I resolve this?</p> <p>Before attempting to access the webUI link in your browser, please ensure that the necessary ports are open and not being blocked by a firewall.</p> <p>Q: How can I update the solution?</p> <p>Currently, it is recommended that users avoid frequently updating solutions by deploying stacks through CloudFormation. If updates are necessary, it is advised to uninstall the existing solution stack and then deploy a new stack based on the CloudFormation template. For all the future deployments using CloudFormation, in the 'Bucket' field, enter the S3 bucket name used in the previous deployment, and choose 'yes' for 'DeployedBefore' to ensure a successful redeployment of CloudFormation.</p> <p>Q: How can I change the login user on the same computer?</p> <p>You can switch to another user account by opening a new incognito browser window and logging in with the alternate user credentials.</p> <p>Q: How can I remove the local inference option so that my webUI can only support cloud inference?</p> <p>You can open the WebUI, navigate to tab Settings and select section User interface on the left session bar. Find field\u2018[info] Quick settings list (setting entries that appear at the top of page rather than in settings tab) (requires Reload UI)\u2018, and uncheck \u2018sd_model_checkpoint'. After then, click \u2018Apply setting', and reload webUI from terminal to make the change effective. After reloading the webUI, you will find that the checkpoint selecting drop down list on the upper left side disappeared, and user will only have a cloud inference option. </p>"},{"location":"faq/#pricing","title":"Pricing","text":"<p>Q: How will I be charged and billed for the use of this solution?</p> <p>The solution is free to use, and you are responsible for the cost of AWS services used while running this solution. You pay only for what you use, and there are no minimum or setup fees. Refer to the Centralized Logging with OpenSearch Cost section for detailed cost estimation.</p>"},{"location":"notices/","title":"Notices","text":"<p>Customers are responsible for making their own independent assessment of the information in this document. This document: (a) is for informational purposes only, (b) represents Amazon Web Services current product offerings and practices, which are subject to change without notice, and (c) does not create any commitments or assurances from Amazon Web Services and its affiliates, suppliers or licensors. Amazon Web Services products or services are provided \u201cas is\u201d without warranties, representations, or conditions of any kind, whether express or implied. Amazon Web Services responsibilities and liabilities to its customers are controlled by Amazon Web Services agreements, and this document is not part of, nor does it modify, any agreement between Amazon Web Services and its customers.</p> <p>The Extension for Stable Diffusion on AWS solution is licensed under the terms of the Apache License Version 2.0 available at The Apache Software Foundation</p> <p>This guidance is for informational purposes only.  You should still perform your own independent assessment, and take measures to ensure that you comply with your own specific quality control practices and standards, and the local rules, laws, regulations, licenses and terms of use that apply to you, your content, and the third-party generative AI service referenced in this guidance.  Amazon Web Services has no control or authority over the third-party generative AI service referenced in this guidance, and does not make any representations or warranties that the third-party generative AI service is secure, virus-free, operational, or compatible with your production environment and standards. Amazon Web Services does not make any representations, warranties or guarantees that any information in this guidance will result in a particular outcome or result.   </p>"},{"location":"revisions/","title":"Revisions","text":"Date Version Changes CloudFormation Template 2024/03/22 V1.5.0 - Support webUI V1.8.0  - Support extension ReActor for Stable Diffusion  - Add API Debugger feature  - Support LoRa model training through Kohya_ss  - Improve customer experience on Resource management in webUI  - Optimize the method of customizing BYOC extensions, and support optimization startup  - Support auto-scale ability for real-time inference endpoints  - Support the customizable range for the numbers of instances during auto-scaling  - Optimize installation time by 67%, down to 4 minutes  - Upgrade Python version from 3.9 to 3.10  - Deprecate support for Dreambooth  - Bugs fix V1.5.0 2024/01/19 V1.4.0 - Support webUI V1.7.0  - Support multiple Amazon stacks deployment in one account  - Enhance cold-start time of Amazon SageMaker inference time by 70%, down to 3 mins  - Support image generation through Amazon SageMaker real-time inference endpoint  - Improve customer experience on webUI, containing multiple level filters for tables of roles, users, models and inference endpoints, along with resource delete feature  - Bugs fix V1.4.0 20232/12/13 V1.3.0 - Support Stable Diffusion Turbo inference  - Support Stable Diffusion LCMinference  - Support Stable Diffusion inference through diffuser (including webUI &amp; API direct call) - Support customorize  extensions' combination for SD webUI through BYOC (Bring Your Own Container) - Support user addition and modifications operations to take effect without restarting the webUI  - Bugs fix V1.3.0 2023/10/26 V1.2.1 - Enhance the existing features, for example: add S3 bucket validation, address the issue with Lambda quota.  - Support API direct call support for native Extras  - Bugs fix V1.2.1 2023/9/28 V1.2.0 - Support webUI V1.6.0  - Support controlNet v1.1.410   - Support Stable Diffusion XL 1.0 + ControlNet   - Support Refiner  - Support Multiple User Management  - Support upload model from url to cloud   - Support more efficient Version Update V1.2.0 2023/8/14 V1.1.0 - Support webUI V1.5.1  - Support Stable Diffusion XL 1.0  - Support VAE  - Support upload model from local to S3   - Support Multi-controlnet  - Support deployauto scale SageMaker Endpoint  - Add filters for Inference Job list V1.1.0 2023/7/14 V1.0.1 - Upgrade the version support of webUI to V1.4.0   - Upgrade the version support of ControlNet to V1.1.227   - Upgrade the version support of Dreambooth to V1.0.14    - Support txt2img API Direct call  - Support full features in img2img except batch  - Support full features in ControlNet except multi-ControlNet  - Auto-refresh inference results in Output section  - Support filter in Inference Job ID  - Support rollback or update the middleware  - Bugs fix V1.0.1 2023/6/16 V1.0.0 Initial release V1.0.0"},{"location":"template/","title":"Template","text":"<p>To automated deployment, this solution uses the following AWS CloudFormation templates, which you can download before deployment:</p> <p>[xxx.template]: Use this template to launch the solution and all associated components. The default configuration deploys [Amazon API Gateway][api-gateway], [Amazon Lambda][lambda], [Amazon Batch][Batch], [Amazon S3][s3], [Amazon EFS][efs] and [Amazon Batch][Batch], but you can customize the template to meet your specific needs.</p>"},{"location":"troubleshooting/","title":"Troubleshooting","text":"<p>The following help you to fix errors or problems that you might encounter when using Extension for Stable Diffusion on AWS.</p> <p>Error: It presents error message 'RuntimeError: \"LayerNormKernelImpl\" not implemented for 'Half'' when I use txt2img inference function</p> <p>The error appears when deploying webUI frontend. It's recommended to start webUI adding <code>--precision full --no-half</code> <pre><code>./webui.sh --skip-torch-cuda-test --precision full --no-half\n</code></pre></p> <p>Error: I cannot install python venv on Ubuntu using <code>python3 -m venv env</code></p> <p>The error comes out when your system's default is Python 3.9, and Ubuntu 20.04 is Python 3.8. User can install venv package using <code>sudo apt install python3.8-venv</code> to explicitly mentioning the full version of Python.</p> <p>Error\uff1a When using the webUI, an Error prompt appears in the top right corner</p> <p>It is likely to be a connection error, indicating that the open-source webUI project has crashed. You can manually restart the webUI to resolve this issue. It's recommended to use the Restart webUI button for manual restart.  </p>"},{"location":"uninstall/","title":"Uninstall Extension for Stable Diffusion on AWS","text":"<p>Warning</p> <p>Before uninstalling the solution, please manually delete all the Amazon SageMaker Endpoints deployed by this solution, referring to Delete deployed endpoint in Main tab. By uninstalling the solution, the DynamoDB tables that indicate the model training, finetuning and inference logs and mapping relationship, AWS Lambda related functions, AWS Step Functions and so on will be deleted simultaneously.</p> <p>To uninstall the Extension for Stable Diffusion on AWS solution, you must delete the AWS CloudFormation stack. </p> <p>You can use either the AWS Management Console or the AWS Command Line Interface (AWS CLI) to delete the CloudFormation stack.</p>"},{"location":"uninstall/#uninstall-the-stack-using-the-aws-management-console","title":"Uninstall the stack using the AWS Management Console","text":"<ol> <li>Sign in to the AWS CloudFormation console.</li> <li>Select this solution\u2019s installation parent stack.</li> <li>Choose Delete.</li> </ol>"},{"location":"uninstall/#uninstall-the-stack-using-aws-command-line-interface","title":"Uninstall the stack using AWS Command Line Interface","text":"<p>Determine whether the AWS Command Line Interface (AWS CLI) is available in your environment. For installation instructions, refer to What Is the AWS Command Line Interface in the AWS CLI User Guide. After confirming that the AWS CLI is available, run the following command.</p> <pre><code>aws cloudformation delete-stack --stack-name &lt;installation-stack-name&gt; --region &lt;aws-region&gt;\n</code></pre>"},{"location":"use-cases/","title":"Use cases","text":"<p>"},{"location":"architecture-overview/architecture-details/","title":"Architecture details","text":"<p>Diagram below is the brief view of internal workflow between offered extension and middleware, user will keep launching community WebUI onto standalone EC2/local server with our extension installed, while the ckpt merge, training and inference workload will be migrate onto AWS cloud through the RESTful API provided by middleware installed on user\u2019s AWS account. Note the middleware is per AWS account, means it could be installed separately as work node to communicate with WebUI as control node, user only need to input endpoint URL and API key per account to decide which specific AWS account will be used for successive jobs.</p> <p> Overall Workflow</p> <p>The middleware provides a RESTful API externally to comply with the OpenAPI specification to help WebUI extension to interact with AWS (Amazon SageMaker, S3, etc.). The main functions include request authentication, request distribution (such as SageMaker.jumpstart/model/predictor/estimator/tuner /utils, etc.), model training, model inference and other life cycle management work. The following figure shows the overall architecture of the middleware:</p> <p> Middleware Architecture</p> <ul> <li>Users in the WebUI console will use the assigned API token to trigger a request to API Gateway while being authenticated. (Note: AWS credentials are not required in AWS WebUI)</li> <li>API Gateway will route requests to Lambda with different functions according to URL prefixes to implement corresponding tasks (for example, model uploading, checkpoint merging), model training, and model inference. At the same time, the Lambda function records operational metadata into DynamoDB (eg, inferred parameters, model name) for subsequent query and correlation.</li> <li>During the training process, the Step Function will be called to orchestrate the training process, which includes using Amazon SageMaker for training and SNS for training status notification. During the inference process, the Lambda function will call Amazon SageMaker for asynchronous inference. Training data, models and checkpoints will be stored in S3 buckets separated by different prefixes.</li> </ul> <p>To keep container image of extension in sync with community, additional CI/CD pipeline (fig shown below) may needed to auto track community commits and pack &amp; build new container image, then user can easily launch latest extension without any manual operation.</p> <p> Image CI/CD Workflow</p>"},{"location":"architecture-overview/architecture/","title":"Architecture diagram","text":"<p>The overall architecture of the extension is composed of two components: the extension and the middleware. The extension is a WebUI extension that is installed on the community WebUI and responsible for providing a user interface for users to interact with the middleware. The middleware is a set of AWS resources that are deployed on the user's AWS account and responsible for providing RESTful APIs for the extension to interact with AWS resources. The whole solution provides a seamless experience for users to train and deploy models on AWS with following features:</p> <ul> <li>User Experience: Existing working flow is not changed, user can still use the community WebUI to train and deploy models with third-party extensions.</li> <li>Scalability: Existing workload including training and inference can be easily scaled and accelerated on Amazon SageMaker.</li> <li>Community: A provided extension is part of the community WebUI, which is open source and keeps evolving with the community.</li> </ul>"},{"location":"architecture-overview/design-considerations/","title":"Design considerations","text":"<p>This solution was designed with best practices from the AWS Well-Architected Framework which helps customers design and operate reliable, secure, efficient, and cost-effective workloads in the cloud. </p> <p>This section describes how the design principles and best practices of the Well-Architected Framework were applied when building this solution. </p>"},{"location":"deployment/deployment/","title":"Deployment step","text":"<p>Before you launch the solution, review the architecture, supported regions, and other considerations discussed in this guide. Follow the step-by-step instructions in this section to configure and deploy the solution into your account.</p> <p>Time to deploy: Approximately 20 minutes.</p>"},{"location":"deployment/deployment/#prerequisites","title":"Prerequisites","text":"<p>Users need to prepare a computer-running linux system in advance.</p>"},{"location":"deployment/deployment/#deployment-overview","title":"Deployment overview","text":"<p>Use the following steps to deploy this solution on AWS. </p> <ul> <li>Step 0: Deploy Stable Diffusion webUI (if you haven't deployed Stable Diffusion webUI before). </li> <li>Step 1: Deploy the solution as middleware.</li> <li>Step 2: Configure API url and API token.</li> </ul> <p>Notice</p> <p>This solution provides two usage options: through UI interface and by directly calling the backend API. Step 0 only needs to be executed if the user intends to use the UI interface. This step involves installing another open-source project Stable Diffusion webUI, allowing business operations to be conducted through the webUI.</p>"},{"location":"deployment/deployment/#deployment-steps","title":"Deployment steps","text":""},{"location":"deployment/deployment/#step-0-linux-deploy-stable-diffusion-webui-linux","title":"Step 0 - Linux: Deploy Stable Diffusion WebUI (Linux).","text":"<ol> <li>Sign in to the AWS Management Console and use WebUI on EC2 to create the stack.</li> <li>On the Create Stack page, choose Next.</li> <li>On the Specify stack details page, type a stack name in the Stack name box, adjust parameters as need, then choose Next.</li> <li>On the Configure stack options page, choose Next.</li> <li>On the Review page, review the details of your stack, check capabilities as required, and choose Submit.</li> <li>Wait until the stack is created.</li> <li>Find the output value of the CloudFormation stack, and navigate to the WebUI by clicking the link in the WebUIURL value, note you need to wait an extra 30 minutes to wait for the internal setup complete after the stack been created successfully.</li> </ol>"},{"location":"deployment/deployment/#step-0-windows-deploy-stable-diffusion-webui-windows","title":"Step 0 - Windows: Deploy Stable Diffusion WebUI (Windows).","text":"<ol> <li>Start a Windows Server and log in via RDP.</li> <li>Refer to this link to install the NVIDIA driver.</li> <li>Visit the Python website, download Python, and install it. Remember to check \"Add Python to Path\" during installation.</li> <li>Visit the Git website, download Git, and install it.</li> <li>Open PowerShell and download the source code of this project by executing: <code>git clone https://github.com/awslabs/stable-diffusion-aws-extension</code>.</li> <li>Inside the source code directory, run <code>install.bat</code>.</li> <li>In the downloaded <code>stable-diffusion-webui</code> folder, run <code>webui-user.bat</code>.</li> </ol>"},{"location":"deployment/deployment/#step-1-deploy-the-solution-as-a-middleware","title":"Step 1: Deploy the solution as a middleware.","text":"<p>This automated AWS CloudFormation template deploys the solution in the AWS Cloud.</p> <ol> <li>Sign in to the AWS Management Console and use Launch solution in AWS Standard Regions to launch the AWS CloudFormation template.   </li> <li>The template will launch in the default region when you log into the console by default. To launch this solution in a different AWS Region, use the Region selector in the console navigation bar.</li> <li> <p>On the Create stack page, verify that the correct template URL is shown in the Amazon S3 URL text box and choose Next.</p> </li> <li> <p>On the Specify stack details page, assign a valid and account level unique name to your solution stack. </p> </li> <li> <p>On the Parameters page, enter a new valid bucket name under Bucket for this solution to use, which is mainly for uploading dates and storing results. Enter a correct email address under email for future notice receiving. Select desired Amazon log level to be printed under LogLevel, only ERROR log will be printed by default. Enter a string of 20 characters that includes a combination of alphanumeric characters for SdExtensionApiKey, and it will be 09876543210987654321 by default, etc. Choose Next.</p> <p>Notice</p> <p>Please do not change EcrImageTag before a consulting solution team.</p> </li> <li> <p>On the Configure stack options page, choose Next.</p> </li> <li>On the Review page, review and confirm the settings. Check the box acknowledging that the template will create AWS Identity and Access Management (IAM) resources. Choose Create stack to deploy the stack.</li> </ol> <p>You can view the status of the stack in the AWS CloudFormation Console in the Status column. You should receive a CREATE_COMPLETE status in approximately 15 minutes.</p> <p>Notice</p> <p>Please check the inbox of the email address you previously set up and click on the \"Confirm subscription\" hyperlink in the email with the subject \"AWS Notification - Subscription Confirmation\" to complete the subscription, and the message of 'Subscription confirmed!' appears.</p>"},{"location":"deployment/deployment/#step2-configure-api-url-and-api-token","title":"Step2: Configure API url and API token.","text":"<p>After successfully stack creation, you can refer to here for subsequent configuration work.</p>"},{"location":"deployment/deployment_for_existing_users/","title":"Deployment step from existing resource","text":"<p>Before you launch the solution, review the architecture, supported regions, and other considerations discussed in this guide. Follow the step-by-step instructions in this section to configure and deploy the solution into your account.</p> <p>Time to deploy: Approximately 20 minutes.</p>"},{"location":"deployment/deployment_for_existing_users/#prerequisites","title":"Prerequisites","text":"<ul> <li>The user needs to prepare a computer running a Linux system in advance.</li> <li>Install and configure aws cli.</li> <li>Deploy the previous version of the Stable Diffusion Webui AWS plugin.</li> </ul>"},{"location":"deployment/deployment_for_existing_users/#deployment-overview","title":"Deployment overview","text":"<p>Use the following steps to deploy this solution on AWS.</p> <ul> <li>Step 1: Update Stable Diffusion WebUI.</li> <li>Step 2: After logging into the AWS Console, update the existing Stable Diffusion AWS extension template in CloudFormation.</li> </ul>"},{"location":"deployment/deployment_for_existing_users/#deployment-steps","title":"Deployment steps","text":""},{"location":"deployment/deployment_for_existing_users/#step-1-linuxupdate-stable-diffusion-webui-linux","title":"Step 1 - Linux\uff1aUpdate Stable Diffusion WebUI (Linux).","text":"<ol> <li> <p>Download the CloudFormation Template from link</p> </li> <li> <p>Sign in to the AWS Management Console and go to CloudFormation console</p> </li> <li> <p>On the Stacks page, choose Create stack, and then choose With new resources (standard).</p> </li> <li> <p>On the Specify template page, choose Template is ready, choose Upload a template file, and then browse for the template that is downloaded in step 1, and then choose Next.</p> </li> <li> <p>On the Specify stack details page, type a stack name in the Stack name box, then choose Next.</p> </li> <li> <p>On the Configure stack options page, choose Next.</p> </li> <li> <p>On the Review page, review the details of your stack, and choose Submit.</p> </li> <li> <p>Wait until the stack is created.</p> </li> <li> <p>Find the output value of the CloudFormation stack, and navigate to the WebUI by clicking the link in the WebUIURL value, note you need to wait extra 30 minutes to wait for the internal setup complete after the stack been created successfully.</p> </li> </ol>"},{"location":"deployment/deployment_for_existing_users/#step-1-windows-update-stable-diffusion-webui-windows","title":"Step 1 - Windows: Update Stable Diffusion WebUI (Windows).","text":"<ol> <li>Start a Windows Server and log in via RDP.</li> <li>Refer to this link to install the NVIDIA driver.</li> <li>Visit the Python website, download Python, and install it. Remember to check \"Add Python to Path\" during installation.</li> <li>Visit the Git website, download Git, and install it.</li> <li>Open PowerShell and download the source code of this project by executing: <code>git clone https://github.com/awslabs/stable-diffusion-aws-extension</code>.</li> <li>Inside the source code directory, run <code>install.bat</code>.</li> <li>In the downloaded <code>stable-diffusion-webui</code> folder, run <code>webui-user.bat</code>.</li> </ol>"},{"location":"deployment/deployment_for_existing_users/#step-2update-the-existing-stable-diffusion-aws-extension-template-in-cloudformation","title":"Step 2\uff1aUpdate the existing Stable Diffusion AWS extension template in CloudFormation.","text":"<ol> <li>Open the AWS Management Console (https://console.aws.amazon.com) and log in.</li> <li>Select \"CloudFormation\" from the service menu, find the stack deployed for this solution, and select it, click Update in the upper right.</li> <li>In Update Stack, select Replace current template, enter latest CloudFormation link in Amazon S3 URL and click Next.</li> <li>In Configure stack options, click Next.</li> <li>In Review, select acknowledge option and click Submit. </li> <li>CloudFormation will start updating the stack, which may take some time. You can monitor the status of the stack on the Stacks page.</li> </ol>"},{"location":"deployment/deployment_for_existing_users/#notice","title":"Notice","text":"<ol> <li>SageMaker Inference Endpoints need to delete and deploy new after updating solution to V1.5.0</li> <li>The version of webUI and middleware should match.</li> <li>Recommend to deploy new webUI on EC2. </li> <li>Middleware API version 1.4.0 can be updated directly, while version 1.3.0 needs to be uninstalled first and then reinstalled.</li> <li>If it involves services already integrated through an API, please review the API documentation for upgrading permission verification methods, and conduct thorough testing before going live.</li> </ol>"},{"location":"deployment/permissions/","title":"Permissions","text":"<p>When deploying, updating, and managing the resources deployed in this solution, it is recommended to follow the minimum permission principle to grant permissions to the monitored account.</p> <p>The permissions required for deploying, updating, and managing the resources deployed in this solution are as follows:</p> <pre><code>{\n    \"Version\": \"2012-10-17\",\n    \"Statement\": [\n        {\n            \"Action\": [\n                \"apigateway:*\",\n                \"application-autoscaling:DeregisterScalableTarget\",\n                \"application-autoscaling:PutScalingPolicy\",\n                \"application-autoscaling:RegisterScalableTarget\",\n                \"cloudformation:*\",\n                \"cloudwatch:DeleteAlarms\",\n                \"cloudwatch:DescribeAlarms\",\n                \"cloudwatch:PutMetricAlarm\",\n                \"cloudwatch:PutMetricData\",\n                \"dynamodb:*\",\n                \"ecr:*\",\n                \"events:*\",\n                \"iam:*\",\n                \"kms:*\",\n                \"lambda:*\",\n                \"logs:*\",\n                \"s3:*\",\n                \"sagemaker:*\",\n                \"sns:*\",\n                \"states:*\",\n                \"sts:AssumeRole\"\n            ],\n            \"Resource\": \"*\",\n            \"Effect\": \"Allow\"\n        }\n    ]\n}\n</code></pre>"},{"location":"deployment/template/","title":"AWS CloudFormation template","text":"<p>To automated deployment, this solution uses the following AWS CloudFormation templates, which you can download before deployment:</p> <p>Extension for Stable Diffusion on AWS: Use this template to launch the solution and all associated components. The default configuration deploys Amazon API Gateway, AWS Lambda, Amazon S3, Amazon SageMaker and Amazon DynamoDB, but you can customize the template to meet your specific needs.</p>"},{"location":"developer-guide/access/","title":"API Access Restriction","text":"<p>The API is open to the public network by default. To protect it from being accessed by the public network, access control can be achieved through Resource Policy.</p>"},{"location":"developer-guide/api_authentication/","title":"API Authentication","text":""},{"location":"developer-guide/api_authentication/#security-authentication","title":"Security Authentication","text":"<p>All APIs use API keys for security verification, and all API requests should include your API key in the HTTP header. The <code>x-api-key</code> is as follows: <pre><code>X-api-key: xxxxxxxxxxxxxxxxxxxx\n</code></pre></p>"},{"location":"developer-guide/api_authentication/#user-authentication","title":"User Authentication","text":"<p>Please include <code>username</code> in the HTTP header. For example, if the username configured on WebUI is <code>admin</code>, then:</p> <pre><code>username: admin\n</code></pre> <p>After the API is deployed, a user named <code>api</code> is built in. If you do not use the WebUI for initialization or create a new user through the API, you can use <code>api</code> as the username.</p>"},{"location":"developer-guide/api_authentication/#version-140-or-earlier","title":"Version 1.4.0 or earlier","text":"<p>Your <code>Authorization</code> should be included in the HTTP header as follows:</p> <pre><code>Authorization: Bearer {TOKEN}\n</code></pre> <p>Token algorithm (Python example):</p> <pre><code>Import base64\nUsername=\"your username on webui\"\nToken=base64.b16encode (username. encode (\"utf-8\")). decode (\"utf-8\")\n</code></pre> <p>For example, if the username configured on WebUI is <code>admin</code>, then: <pre><code>Authorization: Bearer 61646D696E\n</code></pre></p>"},{"location":"developer-guide/api_debugger/","title":"API Inference Debugger","text":"<p>Due to the numerous argument variables involved, it is recommended to use <code>API Inference Debugger</code> to assist with the development of inference tasks. The <code>API Inference Debugger</code> will fully record the actual inference process and parameters. You only need to copy the relevant data structures and make minor modifications.</p>"},{"location":"developer-guide/api_debugger/#enable-api-inference-debugger","title":"Enable API Inference Debugger","text":"<p>If your WebUI interface does not display the API debugger button shown in the figure below, you may need to update the WebUI plugin code. Please switch to the plugin directory and execute the following command:</p> <p><pre><code>cd /home/ubuntu/stable-diffusion-webui/extensions/stable-diffusion-aws-extension\ngit checkout main\ngit pull\nsudo systemctl restart sd-webui\n</code></pre> Wait for the WebUI to restart and complete within approximately 3 minutes.</p>"},{"location":"developer-guide/api_debugger/#use-api-inference-debugger","title":"Use API Inference Debugger","text":"<p>After completing an inference job, open the API request record in the following order:</p> <ol> <li>Click the button to refresh the inference history job list</li> <li>Pull down the inference job list, find and select the job</li> <li>Click the <code>API</code> button on the right</li> </ol> <p></p>"},{"location":"developer-guide/api_debugger/#api-inference-debugger-log","title":"API Inference Debugger Log","text":"<p>Note: Due to Postman sending requests with its own information, it may result in signature errors. It is recommended to directly use code for requests or refer to the API information provided on the UI.</p>"},{"location":"developer-guide/api_inference_process/","title":"API Inference Process","text":""},{"location":"developer-guide/api_inference_process/#how-to-inference-through-api","title":"How-to inference through API","text":"<ul> <li>Create Endpoint through <code>CreateEndpoint</code></li> <li>Upload model file through <code>CreateCheckpoint</code>, Please refer to: <code>API Upload Checkpoint Process</code></li> <li>Select <code>Async inference</code> or <code>Real-time inference</code></li> </ul>"},{"location":"developer-guide/api_inference_process/#async-inference","title":"Async inference","text":"<ul> <li>Create an inference job through <code>CreateInferenceJob</code></li> <li>Based on the presigned address <code>api_params_s3_upload_url</code> returned by <code>CreatInferenceJob</code> Upload inference parameters</li> <li>Start an inference job through <code>StartInferenceJob</code></li> <li>Obtain an inference job through <code>GetInferenceJob</code>, check the status, and stop the request if successful</li> </ul>"},{"location":"developer-guide/api_inference_process/#real-time-inference","title":"Real-time inference","text":"<ul> <li>Create an inference job through <code>CreateInferenceJob</code></li> <li>Based on the pre signed address <code>api_params_s3_upload_url</code> returned by <code>CreatInferenceJob</code> Upload inference parameters</li> <li>Starting the inference job through <code>StartInferenceJob</code>, the real-time inference job will obtain the inference result in this interface</li> </ul>"},{"location":"developer-guide/api_upload_ckpt/","title":"API Upload Checkpoint Process","text":""},{"location":"developer-guide/api_upload_ckpt/#upload-through-url","title":"Upload through URL","text":"<ul> <li>Request <code>CreateCheckpoint</code></li> </ul>"},{"location":"developer-guide/api_upload_ckpt/#upload-through-file","title":"Upload through file","text":"<ul> <li>Request <code>CreateCheckpoint</code> to create a model file</li> <li>Upload files through S3 pre signed address</li> <li>Update status through <code>UpdateCheckpoint</code></li> </ul>"},{"location":"developer-guide/byoc/","title":"Custom Container","text":""},{"location":"developer-guide/byoc/#stable-diffusion-train-and-deploy-api","title":"Custom Container","text":""},{"location":"developer-guide/byoc/#overview","title":"Overview","text":"<p>The Extension for Stable Diffusion on AWS is extremely flexible. You can replace the container image of the SageMaker Endpoint model at any time.</p> <p>To achieve this capability, follow these steps:</p> <ul> <li>Step 1: Build a Container Image</li> <li>Step 2: Create Endpoint using custom container image</li> <li>Step 3: Verify or diagnose whether the container image is work</li> </ul> <p></p>"},{"location":"developer-guide/byoc/#build-a-container-image","title":"Build a Container Image","text":"<p>You can build your own container image and upload it to Amazon ECR in the region where the solution is deployed, please read Using Amazon ECR with the AWS CLI , after the operation is complete, you will get a ECR URI, such as:</p> <pre><code>{your_account_id}.dkr.ecr.{region}.amazonaws.com/your-image:latest\n</code></pre> <p>Dockerfile template:</p> <pre><code># It is recommended to use the Image created by the solution as the base image.\nFROM {your_account_id}.dkr.ecr.{region}.amazonaws.com/stable-diffusion-aws-extension/aigc-webui-inference:latest\n\n# Download the extension\nRUN mkdir -p /opt/ml/code/extensions/ &amp;&amp; \\\n    cd /opt/ml/code/extensions/ &amp;&amp; \\\n    git clone https://github.com/**.git\n</code></pre> <p></p>"},{"location":"developer-guide/byoc/#create-endpoint-using-custom-container-image","title":"Create Endpoint using custom container image","text":"<p>Create a role named <code>byoc</code> and add the logged-in user to that role to activate the function shown in the following picture:</p> <p></p> <p></p>"},{"location":"developer-guide/byoc/#verify-or-diagnose-whether-the-container-image-is-work","title":"Verify or diagnose whether the container image is work","text":"<p>After the container image is replaced, you can verify whether the container image is working properly by viewing the logs of the SageMaker Endpoint, or diagnose the cause of the problem:</p> <ul> <li>{region}: The region where the solution is deployed, such as: <code>us-east-1</code></li> <li>{endpoint-name}: Endpoint name, such as: <code>esd-type-111111</code></li> </ul> <pre><code>https://{region}.console.aws.amazon.com/cloudwatch/home?region={region}#logsV2:log-groups$3FlogGroupNameFilter$3D{endpoint-name}\n</code></pre>"},{"location":"developer-guide/oas/","title":"OpenAPI Specification","text":"<ul> <li>1.5.0</li> <li>1.4.0</li> </ul>"},{"location":"developer-guide/source/","title":"Source code","text":"<p>Visit our GitHub repository to download the templates and scripts for this solution. The Extension for Stable Diffusion on AWS template is generated using the AWS Cloud Development Kit (CDK). Refer to the README.md file for additional information.</p>"},{"location":"developer-guide/api/1.4.0/","title":"ESD 1.4.0","text":""},{"location":"developer-guide/api/1.4.0/#ping","title":"\u5065\u5eb7\u68c0\u67e5\uff08Ping\uff09","text":""},{"location":"developer-guide/api/1.4.0/#get-ping","title":"GET \u5065\u5eb7\u68c0\u67e5 \uff08Ping\uff09","text":"<p>GET /ping</p> <p>\u6d4b\u8bd5\u5ba2\u6237\u7aef\u662f\u5426\u53ef\u4ee5\u8fde\u63a5\u5230 API\uff0c\u5e76\u68c0\u67e5\u914d\u7f6e\u662f\u5426\u6b63\u786e\u3002 Test whether client can connect to api and check the API_TOKEN is correct.</p> <p>Response Examples</p> <p>Success</p> <pre><code>{\n  \"message\": \"pong\",\n  \"statusCode\": 200\n}\n</code></pre>"},{"location":"developer-guide/api/1.4.0/#responses","title":"Responses","text":"HTTP Status Code Meaning Description Data schema 200 OK Success Inline"},{"location":"developer-guide/api/1.4.0/#responses-data-schema","title":"Responses Data Schema","text":"<p>HTTP Status Code 200</p> Name Type Required Restrictions Title description \u00bb message string true none none \u00bb statusCode integer true none none"},{"location":"developer-guide/api/1.4.0/#roles","title":"\u89d2\u8272\uff08Roles\uff09","text":""},{"location":"developer-guide/api/1.4.0/#delete-deleteroles","title":"DELETE \u5220\u9664\u89d2\u8272 DeleteRoles","text":"<p>DELETE /roles</p> <p>\u5220\u9664\u89d2\u8272 Delete roles</p> <p>Body Parameters</p> <pre><code>{\n  \"role_name_list\": [\n    \"role_name_1\"\n  ]\n}\n</code></pre>"},{"location":"developer-guide/api/1.4.0/#params","title":"Params","text":"Name Location Type Required Description Authorization header string yes none body body object no none \u00bb role_name_list body [string] yes \u89d2\u8272\u5217\u8868\uff08Role Name List\uff09 <p>Response Examples</p> <p>204 Response</p> <pre><code>{}\n</code></pre>"},{"location":"developer-guide/api/1.4.0/#responses_1","title":"Responses","text":"HTTP Status Code Meaning Description Data schema 204 No Content No Content Inline"},{"location":"developer-guide/api/1.4.0/#responses-data-schema_1","title":"Responses Data Schema","text":""},{"location":"developer-guide/api/1.4.0/#post-createrole","title":"POST \u521b\u5efa\u89d2\u8272 CreateRole","text":"<p>POST /roles</p> <p>\u521b\u5efa\u65b0\u89d2\u8272 Create a new role</p> <p>Body Parameters</p> <pre><code>{\n  \"role_name\": \"new_role_name\",\n  \"creator\": \"admin\",\n  \"permissions\": [\n    \"train:all\",\n    \"checkpoint:all\"\n  ]\n}\n</code></pre>"},{"location":"developer-guide/api/1.4.0/#params_1","title":"Params","text":"Name Location Type Required Description Authorization header string yes none body body Role no none <p>Response Examples</p> <p>Created</p> <pre><code>{\n  \"statusCode\": 201,\n  \"message\": \"role created\"\n}\n</code></pre>"},{"location":"developer-guide/api/1.4.0/#responses_2","title":"Responses","text":"HTTP Status Code Meaning Description Data schema 201 Created Created Inline"},{"location":"developer-guide/api/1.4.0/#responses-data-schema_2","title":"Responses Data Schema","text":"<p>HTTP Status Code 201</p> Name Type Required Restrictions Title description \u00bb statusCode integer true none none \u00bb message string true none none"},{"location":"developer-guide/api/1.4.0/#users","title":"\u7528\u6237\uff08Users\uff09","text":""},{"location":"developer-guide/api/1.4.0/#get-listusers","title":"GET \u83b7\u53d6\u7528\u6237\u5217\u8868 ListUsers","text":"<p>GET /users</p> <p>\u83b7\u53d6\u7528\u6237\u5217\u8868 List all users</p>"},{"location":"developer-guide/api/1.4.0/#params_2","title":"Params","text":"Name Location Type Required Description Authorization header string yes none <p>Response Examples</p> <p>Success</p> <pre><code>{\n  \"statusCode\": 200,\n  \"data\": {\n    \"users\": [\n      {\n        \"username\": \"admin\",\n        \"roles\": [\n          \"IT Operator\",\n          \"byoc\"\n        ],\n        \"creator\": \"admin\",\n        \"permissions\": [\n          \"checkpoint:all\",\n          \"inference:all\",\n          \"role:all\",\n          \"sagemaker_endpoint:all\",\n          \"train:all\",\n          \"user:all\"\n        ],\n        \"password\": \"********\"\n      },\n      {\n        \"username\": \"username\",\n        \"roles\": [\n          \"IT Operator\"\n        ],\n        \"creator\": \"admin\",\n        \"permissions\": [\n          \"checkpoint:all\",\n          \"inference:all\",\n          \"role:all\",\n          \"sagemaker_endpoint:all\",\n          \"train:all\",\n          \"user:all\"\n        ],\n        \"password\": \"********\"\n      }\n    ],\n    \"previous_evaluated_key\": \"not_applicable\",\n    \"last_evaluated_key\": \"not_applicable\"\n  },\n  \"message\": \"OK\"\n}\n</code></pre>"},{"location":"developer-guide/api/1.4.0/#responses_3","title":"Responses","text":"HTTP Status Code Meaning Description Data schema 200 OK Success Inline"},{"location":"developer-guide/api/1.4.0/#responses-data-schema_3","title":"Responses Data Schema","text":"<p>HTTP Status Code 200</p> Name Type Required Restrictions Title description \u00bb statusCode integer true none none \u00bb data object true none none \u00bb\u00bb users [object] true none none \u00bb\u00bb\u00bb username string true none none \u00bb\u00bb\u00bb roles [string] true none none \u00bb\u00bb\u00bb creator string true none none \u00bb\u00bb\u00bb permissions [string] true none none \u00bb\u00bb\u00bb password string true none none \u00bb\u00bb previous_evaluated_key string true none none \u00bb\u00bb last_evaluated_key string true none none \u00bb message string true none none <p></p>"},{"location":"developer-guide/api/1.4.0/#post-createuser","title":"POST \u521b\u5efa\u7528\u6237 CreateUser","text":"<p>POST /users</p> <p>\u521b\u5efa\u65b0\u7528\u6237 Create a new user</p> <p>Body Parameters</p> <pre><code>{\n  \"username\": \"username\",\n  \"password\": \"XXXXXXXXXXXXX\",\n  \"creator\": \"admin\",\n  \"roles\": [\n    \"IT Operator\"\n  ]\n}\n</code></pre>"},{"location":"developer-guide/api/1.4.0/#params_3","title":"Params","text":"Name Location Type Required Description Authorization header string yes none body body object no none \u00bb username body string yes \u7528\u6237\u540d\uff08User Name\uff09 \u00bb roles body [string] yes \u89d2\u8272\u5217\u8868\uff08Roles\uff09 \u00bb creator body string yes \u521b\u5efa\u8005\u7528\u6237\u540d\uff08Creator User Name\uff09 \u00bb permissions body [string] yes \u6743\u9650\u5217\u8868\uff08Permissions\uff09 \u00bb password body string yes \u5bc6\u7801\uff08Password\uff09 <p>Response Examples</p> <p>Created</p> <pre><code>{\n  \"statusCode\": 201,\n  \"message\": \"Created\"\n}\n</code></pre>"},{"location":"developer-guide/api/1.4.0/#responses_4","title":"Responses","text":"HTTP Status Code Meaning Description Data schema 201 Created Created Inline"},{"location":"developer-guide/api/1.4.0/#responses-data-schema_4","title":"Responses Data Schema","text":"<p>HTTP Status Code 201</p> Name Type Required Restrictions Title description \u00bb statusCode integer true none none \u00bb message string true none none <p></p>"},{"location":"developer-guide/api/1.4.0/#delete-deleteusers","title":"DELETE \u5220\u9664\u7528\u6237 DeleteUsers","text":"<p>DELETE /users</p> <p>\u5220\u9664\u7528\u6237 Delete users</p> <p>Body Parameters</p> <pre><code>{\n  \"user_name_list\": [\n    \"string\"\n  ]\n}\n</code></pre>"},{"location":"developer-guide/api/1.4.0/#params_4","title":"Params","text":"Name Location Type Required Description Authorization header string yes none body body object no none \u00bb user_name_list body [string] yes \u7528\u6237\u540d\u5217\u8868\uff08User Name List\uff09 <p>Response Examples</p> <p>204 Response</p> <pre><code>{}\n</code></pre>"},{"location":"developer-guide/api/1.4.0/#responses_5","title":"Responses","text":"HTTP Status Code Meaning Description Data schema 204 No Content No Content Inline"},{"location":"developer-guide/api/1.4.0/#responses-data-schema_5","title":"Responses Data Schema","text":""},{"location":"developer-guide/api/1.4.0/#checkpoints","title":"\u6a21\u578b\u6587\u4ef6\uff08Checkpoints\uff09","text":""},{"location":"developer-guide/api/1.4.0/#post-url-createcheckpoint","title":"POST \u901a\u8fc7URL\u4e0a\u4f20\u6a21\u578b\u6587\u4ef6 CreateCheckpoint","text":"<p>POST /checkpoints</p> <p>\u901a\u8fc7URL\u4e0a\u4f20\u6a21\u578b\u6587\u4ef6 Create a new Checkpoint by URL</p> <p>Body Parameters</p> <pre><code>{\n  \"checkpoint_type\": \"ControlNet\",\n  \"params\": {\n    \"message\": \"placeholder for chkpts upload test\",\n    \"creator\": \"admin\"\n  },\n  \"urls\": [\n    \"https://huggingface.co/lllyasviel/ControlNet-v1-1/resolve/main/control_v11p_sd15_canny.pth\"\n  ]\n}\n</code></pre>"},{"location":"developer-guide/api/1.4.0/#params_5","title":"Params","text":"Name Location Type Required Description Authorization header string yes none body body object no none \u00bb checkpoint_type body string yes \u6a21\u578b\u6587\u4ef6\u7c7b\u578b\uff08Checkpoint Type\uff09 \u00bb params body object yes \u53c2\u6570\uff08Params\uff09 \u00bb\u00bb message body string yes \u6a21\u578b\u6587\u4ef6\u4fe1\u606f\uff08Message\uff09 \u00bb\u00bb creator body string yes \u521b\u5efa\u8005\u7528\u6237\u540d\uff08Creator User Name\uff09 \u00bb urls body [string] yes URLs <p>Response Examples</p> <p>Accepted</p> <pre><code>{\n  \"statusCode\": 202,\n  \"message\": \"Checkpoint creation in progress, please check later\"\n}\n</code></pre>"},{"location":"developer-guide/api/1.4.0/#responses_6","title":"Responses","text":"HTTP Status Code Meaning Description Data schema 202 Accepted Accepted Inline"},{"location":"developer-guide/api/1.4.0/#responses-data-schema_6","title":"Responses Data Schema","text":"<p>HTTP Status Code 202</p> Name Type Required Restrictions Title description \u00bb statusCode integer true none none \u00bb data object true none none \u00bb\u00bb checkpoint object true none none \u00bb\u00bb\u00bb id string true none none \u00bb\u00bb\u00bb type string true none none \u00bb\u00bb\u00bb s3_location string true none none \u00bb\u00bb\u00bb status string true none none \u00bb\u00bb\u00bb params object true none none \u00bb\u00bb\u00bb\u00bb message string true none none \u00bb\u00bb\u00bb\u00bb creator string true none none \u00bb\u00bb\u00bb\u00bb created string true none none \u00bb\u00bb\u00bb\u00bb multipart_upload object true none none \u00bb\u00bb\u00bb\u00bb\u00bb v1-5-pruned-emaonly.safetensors2 object true none none \u00bb\u00bb\u00bb\u00bb\u00bb\u00bb upload_id string true none none \u00bb\u00bb\u00bb\u00bb\u00bb\u00bb bucket string true none none \u00bb\u00bb\u00bb\u00bb\u00bb\u00bb key string true none none \u00bb\u00bb s3PresignUrl object true none none \u00bb\u00bb\u00bb v1-5-pruned-emaonly.safetensors2 [string] true none none \u00bb message string true none none <p></p>"},{"location":"developer-guide/api/1.4.0/#delete-deletecheckpoints","title":"DELETE \u5220\u9664\u6a21\u578b\u6587\u4ef6 DeleteCheckpoints","text":"<p>DELETE /checkpoints</p> <p>\u5220\u9664\u6a21\u578b\u6587\u4ef6 Delete checkpoints</p> <p>Body Parameters</p> <pre><code>{\n  \"checkpoint_id_list\": [\n    \"string\"\n  ]\n}\n</code></pre>"},{"location":"developer-guide/api/1.4.0/#params_6","title":"Params","text":"Name Location Type Required Description Authorization header string yes none body body object no none \u00bb checkpoint_id_list body [string] yes \u6a21\u578b\u6587\u4ef6ID\u5217\u8868\uff08ID List\uff09 <p>Response Examples</p> <p>204 Response</p> <pre><code>{}\n</code></pre>"},{"location":"developer-guide/api/1.4.0/#responses_7","title":"Responses","text":"HTTP Status Code Meaning Description Data schema 204 No Content No Content Inline"},{"location":"developer-guide/api/1.4.0/#responses-data-schema_7","title":"Responses Data Schema","text":""},{"location":"developer-guide/api/1.4.0/#put-updatecheckpoint","title":"PUT \u66f4\u65b0\u6a21\u578b\u6587\u4ef6\u72b6\u6001 UpdateCheckpoint","text":"<p>PUT /checkpoints/{id}</p> <p>\u66f4\u65b0\u6a21\u578b\u6587\u4ef6\u72b6\u6001 Update Checkpoint</p> <p>Body Parameters</p> <pre><code>{\n  \"status\": \"Active\",\n  \"multi_parts_tags\": {\n    \"v1-5-pruned-emaonly.safetensors\": [\n      {\n        \"ETag\": \"\\\"e6279f0ad8bf8048c0d106095c4d4b24\\\"\",\n        \"PartNumber\": 1\n      },\n      {\n        \"ETag\": \"\\\"01a458e7d019140cb792b577596b7918\\\"\",\n        \"PartNumber\": 2\n      },\n      {\n        \"ETag\": \"\\\"296e59a1fb1ea02f6512c5b4c4565bea\\\"\",\n        \"PartNumber\": 3\n      },\n      {\n        \"ETag\": \"\\\"9dd22961ddf32130a22b36dc53f93fd0\\\"\",\n        \"PartNumber\": 4\n      },\n      {\n        \"ETag\": \"\\\"bfb91caed0e9f1aaaca7a0f125e7e96b\\\"\",\n        \"PartNumber\": 5\n      }\n    ]\n  }\n}\n</code></pre>"},{"location":"developer-guide/api/1.4.0/#params_7","title":"Params","text":"Name Location Type Required Description id path string yes none body body object no none \u00bb status body string yes \u72b6\u6001\uff08Status\uff09 \u00bb multi_parts_tags body object yes ETags \u00bb\u00bb v1-5-pruned-emaonly.safetensors body [object] yes none \u00bb\u00bb\u00bb ETag body string yes none \u00bb\u00bb\u00bb PartNumber body integer yes none <p>Response Examples</p> <p>Success</p> <pre><code>{\n  \"statusCode\": 200,\n  \"headers\": {\n    \"Access-Control-Allow-Headers\": \"Content-Type\",\n    \"Access-Control-Allow-Origin\": \"*\",\n    \"Access-Control-Allow-Methods\": \"OPTIONS,POST,GET\"\n  },\n  \"checkpoint\": {\n    \"id\": \"d613760c-c8f7-466a-9838-cea3033bf57d\",\n    \"type\": \"Stable-diffusion\",\n    \"s3_location\": \"s3://******/Stable-diffusion/checkpoint/custom/d613760c-c8f7-466a-9838-cea3033bf57d\",\n    \"status\": \"Initial\",\n    \"params\": {\n      \"creator\": \"admin\",\n      \"multipart_upload\": {\n        \"v1-5-pruned-emaonly.safetensors\": {\n          \"bucket\": \"******\",\n          \"upload_id\": \"KFzbB7FwAuCDkR3NRaAO81uNM6E38KrvbB9m9T2dPlE0XUbOXrDB0c9CbhpLA3wFqnN6uTf0qh7HOYOmSXFwicHYOL7XfPMAhsT0cbxRhWvbyKPo8bO_wXrFcbUMDY.ef4vFZNKfdKaRba23Src44CrwGtYjkp3RQ8dEZubjleVTTTz0gaclwjfxmrdpqcZa\",\n          \"key\": \"Stable-diffusion/checkpoint/custom/d613760c-c8f7-466a-9838-cea3033bf57d/v1-5-pruned-emaonly.safetensors\"\n        }\n      },\n      \"message\": \"api-test-message\",\n      \"created\": \"2023-12-07 00:45:59.334826\"\n    }\n  }\n}\n</code></pre>"},{"location":"developer-guide/api/1.4.0/#responses_8","title":"Responses","text":"HTTP Status Code Meaning Description Data schema 200 OK Success Inline"},{"location":"developer-guide/api/1.4.0/#responses-data-schema_8","title":"Responses Data Schema","text":"<p>HTTP Status Code 200</p> Name Type Required Restrictions Title description \u00bb statusCode integer true none Status Code \u00bb headers object true none none \u00bb\u00bb Access-Control-Allow-Headers string true none none \u00bb\u00bb Access-Control-Allow-Origin string true none none \u00bb\u00bb Access-Control-Allow-Methods string true none none \u00bb checkpoint object true none Checkpoint \u00bb\u00bb id string true none ID \u00bb\u00bb type string true none Type \u00bb\u00bb s3_location string true none S3 Key \u00bb\u00bb status string true none Status \u00bb\u00bb params object true none none \u00bb\u00bb\u00bb creator string true none User Name \u00bb\u00bb\u00bb multipart_upload object true none S3 Multipart Upload \u00bb\u00bb\u00bb\u00bb v1-5-pruned-emaonly.safetensors object true none none \u00bb\u00bb\u00bb\u00bb\u00bb bucket string true none none \u00bb\u00bb\u00bb\u00bb\u00bb upload_id string true none none \u00bb\u00bb\u00bb\u00bb\u00bb key string true none none \u00bb\u00bb\u00bb message string true none Message \u00bb\u00bb\u00bb created string true none Created At"},{"location":"developer-guide/api/1.4.0/#endpoints","title":"\u63a8\u7406\u7aef\u70b9\uff08Endpoints\uff09","text":""},{"location":"developer-guide/api/1.4.0/#get-listendpoints","title":"GET \u83b7\u53d6\u7aef\u70b9\u5217\u8868 ListEndpoints","text":"<p>GET /endpoints</p> <p>\u83b7\u53d6\u63a8\u7406\u7aef\u70b9\u5217\u8868 List inference endpoints</p>"},{"location":"developer-guide/api/1.4.0/#params_8","title":"Params","text":"Name Location Type Required Description Authorization header string yes none <p>Response Examples</p> <p>Success</p> <pre><code>{\n  \"statusCode\": 200,\n  \"data\": {\n    \"endpoints\": [\n      {\n        \"EndpointDeploymentJobId\": \"d1253aa5-c884-4989-a7d1-d8806bc4fa59\",\n        \"autoscaling\": false,\n        \"max_instance_number\": \"1\",\n        \"startTime\": \"2024-01-30 07:59:46.842717\",\n        \"status\": null,\n        \"instance_type\": \"ml.g4dn.2xlarge\",\n        \"current_instance_count\": \"1\",\n        \"endTime\": \"2024-01-30 08:03:33.991793\",\n        \"endpoint_status\": \"InService\",\n        \"endpoint_name\": \"esd-real-time-api-test\",\n        \"error\": null,\n        \"endpoint_type\": \"Real-time\",\n        \"owner_group_or_role\": [\n          \"byoc\"\n        ]\n      },\n      {\n        \"EndpointDeploymentJobId\": \"a50ba02e-057f-433d-83be-0f52fdd45b13\",\n        \"autoscaling\": true,\n        \"max_instance_number\": \"1\",\n        \"startTime\": \"2024-01-26 08:19:52.759748\",\n        \"status\": null,\n        \"instance_type\": \"ml.g4dn.xlarge\",\n        \"current_instance_count\": \"0\",\n        \"endTime\": \"2024-02-02 03:58:32.946464\",\n        \"endpoint_status\": \"InService\",\n        \"endpoint_name\": \"esd-async-api-test\",\n        \"error\": null,\n        \"endpoint_type\": \"Async\",\n        \"owner_group_or_role\": [\n          \"IT Operator\"\n        ]\n      }\n    ]\n  },\n  \"message\": \"OK\"\n}\n</code></pre>"},{"location":"developer-guide/api/1.4.0/#responses_9","title":"Responses","text":"HTTP Status Code Meaning Description Data schema 200 OK Success Inline"},{"location":"developer-guide/api/1.4.0/#responses-data-schema_9","title":"Responses Data Schema","text":"<p>HTTP Status Code 200</p> Name Type Required Restrictions Title description \u00bb statusCode integer true none none \u00bb data object true none none \u00bb\u00bb endpoints [object] true none none \u00bb\u00bb\u00bb EndpointDeploymentJobId string true none none \u00bb\u00bb\u00bb autoscaling boolean true none none \u00bb\u00bb\u00bb max_instance_number string true none none \u00bb\u00bb\u00bb startTime string true none none \u00bb\u00bb\u00bb status null true none none \u00bb\u00bb\u00bb instance_type string true none none \u00bb\u00bb\u00bb current_instance_count string true none none \u00bb\u00bb\u00bb endTime string true none none \u00bb\u00bb\u00bb endpoint_status string true none none \u00bb\u00bb\u00bb endpoint_name string true none none \u00bb\u00bb\u00bb error null true none none \u00bb\u00bb\u00bb endpoint_type string true none none \u00bb\u00bb\u00bb owner_group_or_role [string] true none none \u00bb message string true none none <p></p>"},{"location":"developer-guide/api/1.4.0/#post-createendpoint","title":"POST \u521b\u5efa\u7aef\u70b9 CreateEndpoint","text":"<p>POST /endpoints</p> <p>\u521b\u5efa\u63a8\u7406\u7aef\u70b9 Create Endpoint</p> <p>Body Parameters</p> <pre><code>{\n  \"endpoint_name\": \"test\",\n  \"endpoint_type\": \"Async\",\n  \"instance_type\": \"ml.g5.2xlarge\",\n  \"initial_instance_count\": \"1\",\n  \"autoscaling_enabled\": false,\n  \"assign_to_roles\": [\n    \"IT Operator\"\n  ],\n  \"creator\": \"admin\"\n}\n</code></pre>"},{"location":"developer-guide/api/1.4.0/#params_9","title":"Params","text":"Name Location Type Required Description Authorization header string yes none body body object no none \u00bb endpoint_name body string no \u7aef\u70b9\u540d\u79f0\uff08Endpoint Name\uff09 \u00bb endpoint_type body string yes \u7aef\u70b9\u7c7b\u578b\uff08Endpoint Type\uff09 \u00bb instance_type body string yes \u5b9e\u4f8b\u7c7b\u578b\uff08Instance Type\uff09 \u00bb initial_instance_count body string yes \u521d\u59cb\u5b9e\u4f8b\u6570\uff08Initial Instance Count\uff09 \u00bb autoscaling_enabled body boolean yes \u5f00\u542f Autoscaling\uff08Enable Autoscaling\uff09 \u00bb assign_to_roles body [string] yes \u89d2\u8272\u5217\u8868\uff08Role List\uff09 \u00bb creator body string yes \u521b\u5efa\u8005\u7528\u6237\u540d\uff08Creator User Name\uff09 <p>Response Examples</p> <p>Success</p> <pre><code>{\n  \"statusCode\": 200,\n  \"message\": \"Endpoint deployment started: infer-endpoint-prod\",\n  \"data\": {\n    \"EndpointDeploymentJobId\": \"60b12a2e-c54d-496c-b405-1bc77b17e2f9\",\n    \"autoscaling\": false,\n    \"max_instance_number\": \"1\",\n    \"startTime\": \"2023-12-07 01:08:43.410628\",\n    \"status\": null,\n    \"current_instance_count\": \"0\",\n    \"endTime\": null,\n    \"endpoint_status\": \"Creating\",\n    \"endpoint_name\": \"infer-endpoint-prod\",\n    \"error\": null,\n    \"owner_group_or_role\": [\n      \"IT Operator\"\n    ]\n  }\n}\n</code></pre>"},{"location":"developer-guide/api/1.4.0/#responses_10","title":"Responses","text":"HTTP Status Code Meaning Description Data schema 200 OK Success Inline"},{"location":"developer-guide/api/1.4.0/#responses-data-schema_10","title":"Responses Data Schema","text":"<p>HTTP Status Code 200</p> Name Type Required Restrictions Title description \u00bb statusCode integer true none none \u00bb message string true none none \u00bb data Endpoint true none none \u00bb\u00bb EndpointDeploymentJobId string true none ID \u00bb\u00bb autoscaling boolean true none Autoscaling Enabled \u00bb\u00bb max_instance_number string true none Max Instance Count \u00bb\u00bb startTime string true none Start Time \u00bb\u00bb current_instance_count integer true none Current Instance Count \u00bb\u00bb endTime string true none End Time \u00bb\u00bb endpoint_status string true none Endpoint Status \u00bb\u00bb endpoint_name string true none Endpoint Name \u00bb\u00bb error null true none Error Message \u00bb\u00bb owner_group_or_role [string] true none Roles <p></p>"},{"location":"developer-guide/api/1.4.0/#delete-deleteendpoints","title":"DELETE \u5220\u9664\u7aef\u70b9 DeleteEndpoints","text":"<p>DELETE /endpoints</p> <p>\u5220\u9664\u63a8\u7406\u7aef\u70b9 Delete endpoints</p> <p>Body Parameters</p> <pre><code>{\n  \"delete_endpoint_list\": [\n    \"infer-endpoint-test\"\n  ],\n  \"username\": \"admin\"\n}\n</code></pre>"},{"location":"developer-guide/api/1.4.0/#params_10","title":"Params","text":"Name Location Type Required Description Authorization header string yes none body body object no none \u00bb delete_endpoint_list body [string] yes \u7aef\u70b9\u540d\u5217\u8868\uff08Endpoint Name List\uff09 \u00bb username body string yes \u7528\u6237\u540d\uff08User Name\uff09 <p>Response Examples</p> <p>200 Response</p> <pre><code>{}\n</code></pre>"},{"location":"developer-guide/api/1.4.0/#responses_11","title":"Responses","text":"HTTP Status Code Meaning Description Data schema 200 OK Success Inline"},{"location":"developer-guide/api/1.4.0/#responses-data-schema_11","title":"Responses Data Schema","text":""},{"location":"developer-guide/api/1.4.0/#inferences","title":"\u63a8\u7406\uff08Inferences\uff09","text":""},{"location":"developer-guide/api/1.4.0/#post-createinferencejob","title":"POST \u521b\u5efa\u63a8\u7406\u4f5c\u4e1a CreateInferenceJob","text":"<p>POST /inferences</p> <p>\u521b\u5efa\u63a8\u7406\u4f5c\u4e1a\uff0c\u521b\u5efa\u6210\u529f\u540e\uff0c\u9700\u8981\u901a\u8fc7\u8fd4\u56de\u7684<code>api_params_s3_upload_url</code> \u4e0a\u4f20\u63a8\u7406\u53c2\u6570 Create inference, When you got response, you have to upload your Payload to <code>api_params_s3_upload_url</code></p> <p>Body Parameters</p> <pre><code>{\n  \"user_id\": \"admin\",\n  \"inference_type\": \"Async\",\n  \"task_type\": \"txt2img\",\n  \"models\": {\n    \"Stable-diffusion\": [\n      \"v1-5-pruned-emaonly.safetensors\"\n    ],\n    \"VAE\": [\n      \"Automatic\"\n    ],\n    \"embeddings\": []\n  },\n  \"filters\": {\n    \"createAt\": 1707141090.135923,\n    \"creator\": \"sd-webui\"\n  }\n}\n</code></pre>"},{"location":"developer-guide/api/1.4.0/#params_11","title":"Params","text":"Name Location Type Required Description body body object no none \u00bb user_id body string yes \u7528\u6237\u540d\uff08User Name\uff09 \u00bb inference_type body string yes \u63a8\u7406\u7c7b\u578b\uff08Inference Type\uff09Async \u00bb task_type body string yes \u4efb\u52a1\u7c7b\u578b\uff08Task Type\uff09txt2img \u00bb models body object yes \u6a21\u578b\u5217\u8868\uff08Model List\uff09 \u00bb\u00bb Stable-diffusion body [string] yes none \u00bb\u00bb VAE body [string] yes none \u00bb\u00bb embeddings body [string] yes none \u00bb filters body object yes \u5c06\u5728\u4e0b\u4e00\u7248\u672c\u4e2d\u79fb\u9664 \u00bb\u00bb createAt body number yes none \u00bb\u00bb creator body string yes none <p>Response Examples</p> <p>Success</p> <pre><code>{\n  \"statusCode\": 201,\n  \"data\": {\n    \"inference\": {\n      \"id\": \"f3421ce5-9ab9-40a2-b33b-3f126de70a52\",\n      \"type\": \"txt2img\",\n      \"api_params_s3_location\": \"s3://xxxx/txt2img/infer_v2/f3421ce5-9ab9-40a2-b33b-3f126de70a52/api_param.json\",\n      \"api_params_s3_upload_url\": \"https://xxxx.s3.amazonaws.com/txt2img/infer_v2/f3421ce5-9ab9-40a2-b33b-3f126de70a52/api_param.json?AWSAccessKeyId=xxxx&amp;Signature=HNp81KZy2%2FDSgz7%2FWP%2FdMIUPz8s%3D&amp;x-amz-security-token=IQoJb3JpZ2luX2VjEOz%2F%2F%2F%2F%2F%2F%2F%2F%2F%2FwEaDmFwLXNvdXRoZWFzdC0xIkcwRQIgNMLgV7at1Vaao4wiFDgLOk4vc3OwD1D%2F4vyd%2Bz5vxhkCIQCnDqwzj3jP%2BIEyc2hCFw%2FNbWOHE%2BLDOVNFfxowLpQFEyrhAwi1%2F%2F%2F%2F%2F%2F%2F%2F%2F%2F8BEAAaDDg2MDY2MDYwMDY5MCIM%2B6KJWPfr9JG4NBwKKrUDxMOpMiWgg2N1uusnm%2FRpoZhBFTe4MnPMNHf5M%2Bb8mTZWHD1JnMNAda1RUzfc9QoL%2BO76bH2QxhHQgmWaCnoX9i4hQCH7U%2F2slmF4EVSktyKWPbKMr%2BooX4uSpCiuU7qXqgjhPKbEn3tmsfH0RVf%2ByaGLXe6G43JAHpArjaJTIRnmH%2Bszbq55F%2FaifIpjhw9IlB6X18uVTzx9vqepS8zF%2Bn7%2F0L0da%2FhNvzz5QbRxbTrzjtDIGKd7aOz2%2BuXM03naXLcRFDRw29wzbMH2Z2P%2Bran9lZsrJBDYlWN4BMV3PSaweOghOOTldPlxylTzWiE86xWmw5kUpgU%2B4A8Te%2BZmJRl6Qqhq7sOZ%2BaaNTAqpYYQhjkFxLFziZjub90%2B7%2B0idFmQN7CpKEmBUTVdrQGAcagAJ9jQRUosTfRfHP%2BiXK1dj2sOOgDsDOZE6X2O9dpJQCiQAJKDDDvBKPn1s%2BDp7KlgRh5AdlBEgUkfcx3fUyhFz7hrVGLHR74hYIScIM714eDMlPvqtPtznr8IKtRvzKRYGxMyN%2FM%2FdvqhDE2WEHOP9M%2B4bvDBxMTDhNngjdZsMs524zVcw79aGrgY6ngEPUkOghS7xw2T1%2FGr6jR8AIjsdZ4ZsC5BZp22jizDO%2FQBmWEH2Z9LJK6Jmf7XwCRagmOuZlc8ZSr929Q48f371DwbhPGJdwjb7VPYqA20CJkcz6mFrU5zwLm%2BqDB2%2BpNVWIBMWeRsoGfcEipeR%2BVRd5DhVh0gCYc9BqDtshpstnhEvesuPSr8syAt5VQwUEAplxtWGFHh%2BPH3RHcgu%2Bw%3D%3D&amp;Expires=1707194752\",\n      \"models\": [\n        {\n          \"id\": \"32a7af23-3763-4289-a6af-2156a2331878\",\n          \"name\": [\n            \"v1-5-pruned-emaonly.safetensors\"\n          ],\n          \"type\": \"Stable-diffusion\"\n        },\n        {\n          \"id\": \"VAE\",\n          \"name\": [\n            \"Automatic\"\n          ],\n          \"type\": \"VAE\"\n        }\n      ]\n    }\n  },\n  \"message\": \"Created\"\n}\n</code></pre>"},{"location":"developer-guide/api/1.4.0/#responses_12","title":"Responses","text":"HTTP Status Code Meaning Description Data schema 200 OK Success Inline"},{"location":"developer-guide/api/1.4.0/#responses-data-schema_12","title":"Responses Data Schema","text":"<p>HTTP Status Code 200</p> Name Type Required Restrictions Title description \u00bb statusCode integer true none none \u00bb data object true none none \u00bb\u00bb inference object true none none \u00bb\u00bb\u00bb id string true none none \u00bb\u00bb\u00bb type string true none none \u00bb\u00bb\u00bb api_params_s3_location string true none none \u00bb\u00bb\u00bb api_params_s3_upload_url string true none none \u00bb\u00bb\u00bb models [object] true none none \u00bb\u00bb\u00bb\u00bb id string true none none \u00bb\u00bb\u00bb\u00bb name [string] true none none \u00bb\u00bb\u00bb\u00bb type string true none none \u00bb message string true none none <p></p>"},{"location":"developer-guide/api/1.4.0/#delete-deleteinferencejobs","title":"DELETE \u5220\u9664\u63a8\u7406\u4f5c\u4e1a DeleteInferenceJobs","text":"<p>DELETE /inferences</p> <p>\u5220\u9664\u63a8\u7406\u4f5c\u4e1a\u5217\u8868 Delete inference jobs</p> <p>Body Parameters</p> <pre><code>{\n  \"inference_id_list\": [\n    \"99\"\n  ]\n}\n</code></pre>"},{"location":"developer-guide/api/1.4.0/#params_12","title":"Params","text":"Name Location Type Required Description Authorization header string no none body body object no none \u00bb inference_id_list body [string] yes \u63a8\u7406\u4f5c\u4e1aID\u5217\u8868\uff08Inference Job ID List\uff09 <p>Response Examples</p> <p>No Content</p> <pre><code>{}\n</code></pre>"},{"location":"developer-guide/api/1.4.0/#responses_13","title":"Responses","text":"HTTP Status Code Meaning Description Data schema 204 No Content No Content Inline"},{"location":"developer-guide/api/1.4.0/#responses-data-schema_13","title":"Responses Data Schema","text":""},{"location":"developer-guide/api/1.4.0/#put-startinferencejob","title":"PUT \u5f00\u59cb\u63a8\u7406\u4f5c\u4e1a StartInferenceJob","text":"<p>PUT /inferences/{jobId}/start</p> <p>\u5f00\u59cb\u63a8\u7406\u4f5c\u4e1a Start inference job</p>"},{"location":"developer-guide/api/1.4.0/#params_13","title":"Params","text":"Name Location Type Required Description jobId path string yes \u63a8\u7406\u4f5c\u4e1aID\uff08Inference Job ID\uff09 Authorization header string yes none <p>Response Examples</p> <p>Success</p> <pre><code>{\n  \"statusCode\": 202,\n  \"data\": {\n    \"inference\": {\n      \"inference_id\": \"f3421ce5-9ab9-40a2-b33b-3f126de70a52\",\n      \"status\": \"inprogress\",\n      \"endpoint_name\": \"esd-async-97fce5e\",\n      \"output_path\": \"s3://xxxx/sagemaker_output/48159016-c040-4b49-8a1c-b57445946918.out\"\n    }\n  },\n  \"message\": \"Accepted\"\n}\n</code></pre>"},{"location":"developer-guide/api/1.4.0/#responses_14","title":"Responses","text":"HTTP Status Code Meaning Description Data schema 200 OK Success Inline"},{"location":"developer-guide/api/1.4.0/#responses-data-schema_14","title":"Responses Data Schema","text":"<p>HTTP Status Code 200</p> Name Type Required Restrictions Title description \u00bb statusCode integer true none none \u00bb data object true none none \u00bb\u00bb inference object true none none \u00bb\u00bb\u00bb inference_id string true none none \u00bb\u00bb\u00bb status string true none none \u00bb\u00bb\u00bb endpoint_name string true none none \u00bb\u00bb\u00bb output_path string true none none \u00bb message string true none none <p></p>"},{"location":"developer-guide/api/1.4.0/#get-getinferencejob","title":"GET \u83b7\u53d6\u63a8\u7406\u4f5c\u4e1a\u8be6\u60c5 GetInferenceJob","text":"<p>GET /inferences/{jobId}</p> <p>\u83b7\u53d6\u6307\u5b9a\u7684\u63a8\u7406\u4f5c\u4e1a\u8be6\u60c5 Gets a specific inference job</p>"},{"location":"developer-guide/api/1.4.0/#params_14","title":"Params","text":"Name Location Type Required Description jobId path string yes \u63a8\u7406\u4f5c\u4e1aID\uff08Inference Job ID\uff09 Authorization header string yes none <p>Response Examples</p> <p>Success</p> <pre><code>{\n  \"statusCode\": 200,\n  \"data\": {\n    \"img_presigned_urls\": [\n      \"https://xxxx.s3.amazonaws.com/out/9d93e241-745a-4464-bb99-22253c910a01/result/image_0.png?AWSAccessKeyId=xxxx&amp;Signature=%2BIoU%2BUuY0oJmd9yb8B6xJGnRN3Q%3D&amp;x-amz-security-token=IQoJb3JpZ2luX2VjEOz%2F%2F%2F%2F%2F%2F%2F%2F%2F%2FwEaDmFwLXNvdXRoZWFzdC0xIkgwRgIhAJXX4Y7cAU1VjSQK3Ga5Q3oWrK9Pu7e%2BaJ%2FcP89H3DnAAiEAw%2FSIHzSWR01mAw6xb2kqhTgkapA3hRzRlmIgb%2FQuuNsq4QMItf%2F%2F%2F%2F%2F%2F%2F%2F%2F%2FARAAGgw4NjA2NjA2MDA2OTAiDI5nIbuU88AEtxiKeSq1A0em0PiCJywBO91ACgdnEOZhh46%2BcPMBZS8sbo2G7FuNR8VRz4nGIQjp4HdX468AMjoAN7tRidsufLva6L2xTrqmiiEZobRLqc%2FgsJnuxkK0FFbmdW%2B4GSjUWC8NIyICwF4KtL%2FS05fYVQyq5%2FBV%2B%2FVMw0aT5m7ai4E9FkHAgTsMvhxg31L3v%2BPe8A8Y%2BZbuWGdvonMzHE4CYMKAKe6SfvjK7u8U8YHR8IeCFWd90jzlkygIk83oFVOuyybITePaZbxWKuyEvBSJd3T7y46CeThyzc3I8AlmYTrfbuj8BhSqiptedtN5%2BmtMP5q04c3EGpIQ86B13NAUhHDadBeImztplPRLJFUXJsj7AMUHc5I7h8o%2BRXy1xE4GZD382WXsHOKLJ39UkioqRUvWCAozO%2B%2FBsILadh83RUcE7C7HFGd6%2BdnfcWPfjDOr5i%2FI5P%2BeamDL9Cvw9hakaaMSryI8ki3kmMMbubBc2JExOtspIh3SquN2dw6RUtb34mBZerxZhJHNGFsdARrboM7IZA1f8S6oGuMRX7tr67P%2Fgx5alSHiiS%2FvFlNyPqIRk7O3uAlnzLkQ7IgyMO%2FZhq4GOp0B1Fyc2ySOy88xOUvUFDkJHr5dpVYIOkffdqOgGXOi9H0edCyg8xELWZwofu6eT%2FecDv4xvjkHjXyJ%2B3H7KP1%2FmE2IoQSFJBFvI0El1rvg7jsvROTe8QVuNYG9V1PqH3zLLz%2Fw9V1R9fK6ys5ZdlDCm208LClKZq8YlxQWXlOO%2FLMLcR51FJxqu5tqXLAaVIFDNdwO%2BrUyvZx5xMTifg%3D%3D&amp;Expires=1707195462\"\n    ],\n    \"output_presigned_urls\": [\n      \"https://xxxx.s3.amazonaws.com/out/9d93e241-745a-4464-bb99-22253c910a01/result/9d93e241-745a-4464-bb99-22253c910a01_param.json?AWSAccessKeyId=xxxx&amp;Signature=sAi%2ByxVsUBdZfSh34QCMAh%2B2jGg%3D&amp;x-amz-security-token=IQoJb3JpZ2luX2VjEOz%2F%2F%2F%2F%2F%2F%2F%2F%2F%2FwEaDmFwLXNvdXRoZWFzdC0xIkgwRgIhAJXX4Y7cAU1VjSQK3Ga5Q3oWrK9Pu7e%2BaJ%2FcP89H3DnAAiEAw%2FSIHzSWR01mAw6xb2kqhTgkapA3hRzRlmIgb%2FQuuNsq4QMItf%2F%2F%2F%2F%2F%2F%2F%2F%2F%2FARAAGgw4NjA2NjA2MDA2OTAiDI5nIbuU88AEtxiKeSq1A0em0PiCJywBO91ACgdnEOZhh46%2BcPMBZS8sbo2G7FuNR8VRz4nGIQjp4HdX468AMjoAN7tRidsufLva6L2xTrqmiiEZobRLqc%2FgsJnuxkK0FFbmdW%2B4GSjUWC8NIyICwF4KtL%2FS05fYVQyq5%2FBV%2B%2FVMw0aT5m7ai4E9FkHAgTsMvhxg31L3v%2BPe8A8Y%2BZbuWGdvonMzHE4CYMKAKe6SfvjK7u8U8YHR8IeCFWd90jzlkygIk83oFVOuyybITePaZbxWKuyEvBSJd3T7y46CeThyzc3I8AlmYTrfbuj8BhSqiptedtN5%2BmtMP5q04c3EGpIQ86B13NAUhHDadBeImztplPRLJFUXJsj7AMUHc5I7h8o%2BRXy1xE4GZD382WXsHOKLJ39UkioqRUvWCAozO%2B%2FBsILadh83RUcE7C7HFGd6%2BdnfcWPfjDOr5i%2FI5P%2BeamDL9Cvw9hakaaMSryI8ki3kmMMbubBc2JExOtspIh3SquN2dw6RUtb34mBZerxZhJHNGFsdARrboM7IZA1f8S6oGuMRX7tr67P%2Fgx5alSHiiS%2FvFlNyPqIRk7O3uAlnzLkQ7IgyMO%2FZhq4GOp0B1Fyc2ySOy88xOUvUFDkJHr5dpVYIOkffdqOgGXOi9H0edCyg8xELWZwofu6eT%2FecDv4xvjkHjXyJ%2B3H7KP1%2FmE2IoQSFJBFvI0El1rvg7jsvROTe8QVuNYG9V1PqH3zLLz%2Fw9V1R9fK6ys5ZdlDCm208LClKZq8YlxQWXlOO%2FLMLcR51FJxqu5tqXLAaVIFDNdwO%2BrUyvZx5xMTifg%3D%3D&amp;Expires=1707195462\"\n    ],\n    \"startTime\": \"2024-02-05 06:10:52.552528\",\n    \"taskType\": \"txt2img\",\n    \"completeTime\": \"2024-02-05 06:10:56.270528\",\n    \"params\": {\n      \"input_body_presign_url\": \"https://xxxx.s3.amazonaws.com/txt2img/infer_v2/9d93e241-745a-4464-bb99-22253c910a01/api_param.json?AWSAccessKeyId=xxxx&amp;Signature=i8q7mM74oZoqtl6reQCPEklgXkc%3D&amp;x-amz-security-token=IQoJb3JpZ2luX2VjENb%2F%2F%2F%2F%2F%2F%2F%2F%2F%2FwEaDmFwLXNvdXRoZWFzdC0xIkgwRgIhALn6k5IG2ikYnvMq55N8qzxoi0PcGaPgqzQiNfqjU2ueAiEAlD%2B36qo6fakPvbFIO%2FCEBq3OWIZy3PVRc50g11Yh%2BLAq4QMIn%2F%2F%2F%2F%2F%2F%2F%2F%2F%2F%2FARAAGgw4NjA2NjA2MDA2OTAiDP6CmhQmhgcfvjTYpSq1A%2FUxhB9s6Vam%2FSSyEYlgMkVgvRGOntmYPgfgAdGj9j37KcncPzUxzsuttNgVQzP%2Bu9CVAI4QrO02ObsyNPvsy3KOCLmpBRcSmZDqRkPW5%2BTmQwVEAD8AYut7P3CiLt0mIcCcMS8UOZuXbvb6%2FyaPAegYR20bUEfPDiOEvYxyBOrj9%2FdbED5lvSrS3fHucyIVk9wF6tJQQVucqWRA1qllL6Dj%2BIg86dFYkLl2BiYty0Vd0OBT6y51ATmhBJqqz66M5MlKuVvxWZ5ZL7T%2BcNcJyPnukXAADGuBXt6ZjD7QWxve7TQE6aUTHGi6WbF%2FLi0%2BqWOmVoKdootyVT3bCj34rA56NudSO5t0QjBonQ%2BfnFJlB7s1if4UHZUp%2FijPImWJU8uC6PMp9Qshgux3IwCjO6X%2B5GcyWnL1hO5GaljtyERBLQZ8SS2ZHej3kSw9cJ3w%2FN5cCgejLWkbNffQdkyan1XsRav9ufZOHQMNtupz0LEsUIvbctZjip3FLdBp0rwZDfrBEFlpuDEnmzpCbJVIw7BajO7Fqtu%2FzYHeyEH7ZLLHSMFSkK4apzXb2gkhpmM44XalQzu7MLb1ga4GOp0BghTpORcI%2F6KMUkPVI3YuuZ7O5HLQTlq8TYtl9%2BEWIpG8omXyk232ysXfV4hgvVNA1yOfBpa0IEY86LVLIUOGRgNgPtAkBp2Mao9lA0GcAh2XGCCJYRFyvwVU1veBhN5XgNA15dy1Vqp9YC2ZtwMiTxQcy5R6vlm8mI2cKaI0RJWlD9gWhRhlZJZVx5RTgYI6jjhnr0Zis3L52wmd0A%3D%3D&amp;Expires=1707117052\",\n      \"used_models\": {\n        \"Stable-diffusion\": [\n          {\n            \"s3\": \"s3://xxxx/Stable-diffusion/checkpoint/custom/32a7af23-3763-4289-a6af-2156a2331878\",\n            \"id\": \"32a7af23-3763-4289-a6af-2156a2331878\",\n            \"model_name\": \"v1-5-pruned-emaonly.safetensors\",\n            \"type\": \"Stable-diffusion\"\n          }\n        ],\n        \"VAE\": [\n          {\n            \"s3\": \"None\",\n            \"id\": \"VAE\",\n            \"model_name\": \"Automatic\",\n            \"type\": \"VAE\"\n          }\n        ]\n      },\n      \"input_body_s3\": \"s3://xxxx/txt2img/infer_v2/9d93e241-745a-4464-bb99-22253c910a01/api_param.json\",\n      \"sagemaker_inference_instance_type\": \"ml.g4dn.2xlarge\",\n      \"sagemaker_inference_endpoint_id\": \"9ef3c8bf-936e-47bb-a6da-e11e43140fb1\",\n      \"sagemaker_inference_endpoint_name\": \"esd-real-time-9ef3c8b\"\n    },\n    \"InferenceJobId\": \"9d93e241-745a-4464-bb99-22253c910a01\",\n    \"status\": \"succeed\",\n    \"inference_type\": \"Real-time\",\n    \"createTime\": \"2024-02-05 06:10:52.299624\",\n    \"image_names\": [\n      \"image_0.png\"\n    ],\n    \"owner_group_or_role\": [\n      \"admin\"\n    ]\n  },\n  \"message\": \"OK\"\n}\n</code></pre>"},{"location":"developer-guide/api/1.4.0/#responses_15","title":"Responses","text":"HTTP Status Code Meaning Description Data schema 200 OK Success Inline"},{"location":"developer-guide/api/1.4.0/#responses-data-schema_15","title":"Responses Data Schema","text":"<p>HTTP Status Code 200</p> Name Type Required Restrictions Title description \u00bb statusCode integer true none none \u00bb data object true none none \u00bb\u00bb img_presigned_urls [string] true none none \u00bb\u00bb output_presigned_urls [string] true none none \u00bb\u00bb startTime string true none none \u00bb\u00bb taskType string true none none \u00bb\u00bb completeTime string true none none \u00bb\u00bb params object true none none \u00bb\u00bb\u00bb input_body_presign_url string true none none \u00bb\u00bb\u00bb used_models object true none none \u00bb\u00bb\u00bb\u00bb Stable-diffusion [object] true none none \u00bb\u00bb\u00bb\u00bb\u00bb s3 string false none none \u00bb\u00bb\u00bb\u00bb\u00bb id string false none none \u00bb\u00bb\u00bb\u00bb\u00bb model_name string false none none \u00bb\u00bb\u00bb\u00bb\u00bb type string false none none \u00bb\u00bb\u00bb\u00bb VAE [object] true none none \u00bb\u00bb\u00bb\u00bb\u00bb s3 string false none none \u00bb\u00bb\u00bb\u00bb\u00bb id string false none none \u00bb\u00bb\u00bb\u00bb\u00bb model_name string false none none \u00bb\u00bb\u00bb\u00bb\u00bb type string false none none \u00bb\u00bb\u00bb input_body_s3 string true none none \u00bb\u00bb\u00bb sagemaker_inference_instance_type string true none none \u00bb\u00bb\u00bb sagemaker_inference_endpoint_id string true none none \u00bb\u00bb\u00bb sagemaker_inference_endpoint_name string true none none \u00bb\u00bb InferenceJobId string true none none \u00bb\u00bb status string true none none \u00bb\u00bb inference_type string true none none \u00bb\u00bb createTime string true none none \u00bb\u00bb image_names [string] true none none \u00bb\u00bb owner_group_or_role [string] true none none \u00bb message string true none none"},{"location":"developer-guide/api/1.4.0/#data-schema","title":"Data Schema","text":""},{"location":"developer-guide/api/1.4.0/#tocS_Checkpoint","title":"Checkpoint","text":"<pre><code>{\n  \"id\": \"string\",\n  \"s3Location\": \"string\",\n  \"type\": \"string\",\n  \"status\": \"string\",\n  \"name\": [\n    \"string\"\n  ],\n  \"created\": 0,\n  \"allowed_roles_or_users\": [\n    \"string\"\n  ]\n}\n</code></pre>"},{"location":"developer-guide/api/1.4.0/#attribute","title":"Attribute","text":"Name Type Required Restrictions Title Description id string true none none s3Location string true none none type string true none none status string true none none name [string] true none none created number true none none allowed_roles_or_users [string] true none none"},{"location":"developer-guide/api/1.4.0/#tocS_Endpoint","title":"Endpoint","text":"<pre><code>{\n  \"EndpointDeploymentJobId\": \"string\",\n  \"autoscaling\": true,\n  \"max_instance_number\": \"string\",\n  \"startTime\": \"string\",\n  \"current_instance_count\": 0,\n  \"endTime\": \"string\",\n  \"endpoint_status\": \"string\",\n  \"endpoint_name\": \"string\",\n  \"error\": null,\n  \"owner_group_or_role\": [\n    \"string\"\n  ]\n}\n</code></pre>"},{"location":"developer-guide/api/1.4.0/#attribute_1","title":"Attribute","text":"Name Type Required Restrictions Title Description EndpointDeploymentJobId string true none ID autoscaling boolean true none Autoscaling Enabled max_instance_number string true none Max Instance Count startTime string true none Start Time current_instance_count integer true none Current Instance Count endTime string true none End Time endpoint_status string true none Endpoint Status endpoint_name string true none Endpoint Name error null true none Error Message owner_group_or_role [string] true none Roles"},{"location":"developer-guide/api/1.4.0/#tocS_User","title":"User","text":"<pre><code>{\n  \"username\": \"string\",\n  \"roles\": [\n    \"string\"\n  ],\n  \"creator\": \"string\",\n  \"permissions\": [\n    \"string\"\n  ],\n  \"password\": \"string\"\n}\n</code></pre>"},{"location":"developer-guide/api/1.4.0/#attribute_2","title":"Attribute","text":"Name Type Required Restrictions Title Description username string true none \u7528\u6237\u540d\uff08User Name\uff09 roles [string] true none \u89d2\u8272\u5217\u8868\uff08Roles\uff09 creator string true none \u521b\u5efa\u8005\u7528\u6237\u540d\uff08Creator User Name\uff09 permissions [string] true none \u6743\u9650\u5217\u8868\uff08Permissions\uff09 password string true none \u5bc6\u7801\uff08Password\uff09"},{"location":"developer-guide/api/1.4.0/#tocS_InferenceJob","title":"InferenceJob","text":"<pre><code>{\n  \"startTime\": \"string\",\n  \"taskType\": \"string\",\n  \"completeTime\": \"string\",\n  \"params\": {\n    \"input_body_presign_url\": \"string\",\n    \"used_models\": {\n      \"Stable-diffusion\": [\n        {\n          \"s3\": \"string\",\n          \"id\": \"string\",\n          \"model_name\": \"string\",\n          \"type\": \"string\"\n        }\n      ],\n      \"Lora\": [\n        {\n          \"s3\": \"string\",\n          \"id\": \"string\",\n          \"model_name\": \"string\",\n          \"type\": \"string\"\n        }\n      ]\n    },\n    \"input_body_s3\": \"string\",\n    \"output_path\": \"string\",\n    \"sagemaker_inference_endpoint_id\": \"string\",\n    \"sagemaker_inference_endpoint_name\": \"string\"\n  },\n  \"InferenceJobId\": \"string\",\n  \"status\": \"string\",\n  \"sagemakerRaw\": \"string\",\n  \"image_names\": [\n    \"string\"\n  ],\n  \"owner_group_or_role\": [\n    \"string\"\n  ]\n}\n</code></pre>"},{"location":"developer-guide/api/1.4.0/#attribute_3","title":"Attribute","text":"Name Type Required Restrictions Title Description startTime string true none Start Time taskType string true none Task Type completeTime string true none Complete Time params object true none Params \u00bb input_body_presign_url string true none none \u00bb used_models object true none none \u00bb\u00bb Stable-diffusion [object] true none none \u00bb\u00bb\u00bb s3 string false none none \u00bb\u00bb\u00bb id string false none none \u00bb\u00bb\u00bb model_name string false none none \u00bb\u00bb\u00bb type string false none none \u00bb\u00bb Lora [object] true none none \u00bb\u00bb\u00bb s3 string false none none \u00bb\u00bb\u00bb id string false none none \u00bb\u00bb\u00bb model_name string false none none \u00bb\u00bb\u00bb type string false none none \u00bb input_body_s3 string true none none \u00bb output_path string true none none \u00bb sagemaker_inference_endpoint_id string true none none \u00bb sagemaker_inference_endpoint_name string true none none InferenceJobId string true none Inference Job Id status string true none Status sagemakerRaw string true none Sagemaker Raw image_names [string] true none Images Array owner_group_or_role [string] true none Roles"},{"location":"developer-guide/api/1.4.0/#tocS_Role","title":"Role","text":"<pre><code>{\n  \"role_name\": \"string\",\n  \"creator\": \"string\",\n  \"permissions\": [\n    \"string\"\n  ]\n}\n</code></pre>"},{"location":"developer-guide/api/1.4.0/#attribute_4","title":"Attribute","text":"Name Type Required Restrictions Title Description role_name string true none \u89d2\u8272\u540d\uff08Role Name\uff09 creator string true none \u521b\u5efa\u8005\u7528\u6237\u540d\uff08Creator User Name\uff09 permissions [string] true none \u6743\u9650\u5217\u8868\uff08Permissions\uff09"},{"location":"developer-guide/api/1.5.0/","title":"ESD 1.5.0","text":""},{"location":"developer-guide/api/1.5.0/#ping","title":"\u5065\u5eb7\u68c0\u67e5\uff08Ping\uff09","text":""},{"location":"developer-guide/api/1.5.0/#get-ping","title":"GET \u5065\u5eb7\u68c0\u67e5 \uff08Ping\uff09","text":"<p>GET /ping</p> <p>\u6d4b\u8bd5\u5ba2\u6237\u7aef\u662f\u5426\u53ef\u4ee5\u8fde\u63a5\u5230 API\uff0c\u5e76\u68c0\u67e5\u914d\u7f6e\u662f\u5426\u6b63\u786e\u3002 Test whether client can connect to api and check the API_TOKEN is correct.</p> <p>Response Examples</p> <p>Success</p> <pre><code>{\n  \"message\": \"pong\",\n  \"statusCode\": 200\n}\n</code></pre>"},{"location":"developer-guide/api/1.5.0/#responses","title":"Responses","text":"HTTP Status Code Meaning Description Data schema 200 OK Success Inline"},{"location":"developer-guide/api/1.5.0/#responses-data-schema","title":"Responses Data Schema","text":"<p>HTTP Status Code 200</p> Name Type Required Restrictions Title description \u00bb message string true none none \u00bb statusCode integer true none none"},{"location":"developer-guide/api/1.5.0/#roles","title":"\u89d2\u8272\uff08Roles\uff09","text":""},{"location":"developer-guide/api/1.5.0/#delete-deleteroles","title":"DELETE \u5220\u9664\u89d2\u8272 DeleteRoles","text":"<p>DELETE /roles</p> <p>\u5220\u9664\u89d2\u8272 Delete roles</p> <p>Body Parameters</p> <pre><code>{\n  \"role_name_list\": [\n    \"role_name_1\"\n  ]\n}\n</code></pre>"},{"location":"developer-guide/api/1.5.0/#params","title":"Params","text":"Name Location Type Required Description username header string yes none body body object no none \u00bb role_name_list body [string] yes \u89d2\u8272\u5217\u8868\uff08Role Name List\uff09 <p>Response Examples</p> <p>204 Response</p> <pre><code>{}\n</code></pre>"},{"location":"developer-guide/api/1.5.0/#responses_1","title":"Responses","text":"HTTP Status Code Meaning Description Data schema 204 No Content No Content Inline"},{"location":"developer-guide/api/1.5.0/#responses-data-schema_1","title":"Responses Data Schema","text":""},{"location":"developer-guide/api/1.5.0/#post-createrole","title":"POST \u521b\u5efa\u89d2\u8272 CreateRole","text":"<p>POST /roles</p> <p>\u521b\u5efa\u65b0\u89d2\u8272 Create a new role</p> <p>Body Parameters</p> <pre><code>{\n  \"role_name\": \"new_role_name\",\n  \"permissions\": [\n    \"train:all\",\n    \"checkpoint:all\"\n  ]\n}\n</code></pre>"},{"location":"developer-guide/api/1.5.0/#params_1","title":"Params","text":"Name Location Type Required Description body body object no none \u00bb role_name body string yes \u89d2\u8272\u540d\uff08Role Name\uff09 \u00bb permissions body [string] yes \u6743\u9650\u5217\u8868\uff08Permissions\uff09 <p>Response Examples</p> <p>Created</p> <pre><code>{\n  \"statusCode\": 201,\n  \"message\": \"role created\"\n}\n</code></pre>"},{"location":"developer-guide/api/1.5.0/#responses_2","title":"Responses","text":"HTTP Status Code Meaning Description Data schema 201 Created Created Inline"},{"location":"developer-guide/api/1.5.0/#responses-data-schema_2","title":"Responses Data Schema","text":"<p>HTTP Status Code 201</p> Name Type Required Restrictions Title description \u00bb statusCode integer true none none \u00bb message string true none none"},{"location":"developer-guide/api/1.5.0/#users","title":"\u7528\u6237\uff08Users\uff09","text":""},{"location":"developer-guide/api/1.5.0/#get-listusers","title":"GET \u83b7\u53d6\u7528\u6237\u5217\u8868 ListUsers","text":"<p>GET /users</p> <p>\u83b7\u53d6\u7528\u6237\u5217\u8868 List all users</p>"},{"location":"developer-guide/api/1.5.0/#params_2","title":"Params","text":"Name Location Type Required Description username header string yes none <p>Response Examples</p> <p>Success</p> <pre><code>{\n  \"statusCode\": 200,\n  \"data\": {\n    \"users\": [\n      {\n        \"username\": \"admin\",\n        \"roles\": [\n          \"IT Operator\",\n          \"byoc\"\n        ],\n        \"creator\": \"admin\",\n        \"permissions\": [\n          \"checkpoint:all\",\n          \"inference:all\",\n          \"role:all\",\n          \"sagemaker_endpoint:all\",\n          \"train:all\",\n          \"user:all\"\n        ],\n        \"password\": \"********\"\n      },\n      {\n        \"username\": \"username\",\n        \"roles\": [\n          \"IT Operator\"\n        ],\n        \"creator\": \"admin\",\n        \"permissions\": [\n          \"checkpoint:all\",\n          \"inference:all\",\n          \"role:all\",\n          \"sagemaker_endpoint:all\",\n          \"train:all\",\n          \"user:all\"\n        ],\n        \"password\": \"********\"\n      }\n    ],\n    \"last_evaluated_key\": \"not_applicable\"\n  },\n  \"message\": \"OK\"\n}\n</code></pre>"},{"location":"developer-guide/api/1.5.0/#responses_3","title":"Responses","text":"HTTP Status Code Meaning Description Data schema 200 OK Success Inline"},{"location":"developer-guide/api/1.5.0/#responses-data-schema_3","title":"Responses Data Schema","text":"<p>HTTP Status Code 200</p> Name Type Required Restrictions Title description \u00bb statusCode integer true none none \u00bb data object true none none \u00bb\u00bb users [object] true none none \u00bb\u00bb\u00bb username string true none none \u00bb\u00bb\u00bb roles [string] true none none \u00bb\u00bb\u00bb creator string true none none \u00bb\u00bb\u00bb permissions [string] true none none \u00bb\u00bb\u00bb password string true none none \u00bb\u00bb last_evaluated_key string true none none \u00bb message string true none none <p></p>"},{"location":"developer-guide/api/1.5.0/#post-createuser","title":"POST \u521b\u5efa\u7528\u6237 CreateUser","text":"<p>POST /users</p> <p>\u521b\u5efa\u65b0\u7528\u6237 Create a new user</p> <p>Body Parameters</p> <pre><code>{\n  \"username\": \"username\",\n  \"password\": \"XXXXXXXXXXXXX\",\n  \"roles\": [\n    \"IT Operator\"\n  ]\n}\n</code></pre>"},{"location":"developer-guide/api/1.5.0/#params_3","title":"Params","text":"Name Location Type Required Description body body object no none \u00bb username body string yes \u7528\u6237\u540d\uff08User Name\uff09 \u00bb roles body [string] yes \u89d2\u8272\u5217\u8868\uff08Roles\uff09 \u00bb permissions body [string] yes \u6743\u9650\u5217\u8868\uff08Permissions\uff09 \u00bb password body string yes \u5bc6\u7801\uff08Password\uff09 <p>Response Examples</p> <p>Created</p> <pre><code>{\n  \"statusCode\": 201,\n  \"message\": \"Created\"\n}\n</code></pre>"},{"location":"developer-guide/api/1.5.0/#responses_4","title":"Responses","text":"HTTP Status Code Meaning Description Data schema 201 Created Created Inline"},{"location":"developer-guide/api/1.5.0/#responses-data-schema_4","title":"Responses Data Schema","text":"<p>HTTP Status Code 201</p> Name Type Required Restrictions Title description \u00bb statusCode integer true none none \u00bb message string true none none <p></p>"},{"location":"developer-guide/api/1.5.0/#delete-deleteusers","title":"DELETE \u5220\u9664\u7528\u6237 DeleteUsers","text":"<p>DELETE /users</p> <p>\u5220\u9664\u7528\u6237 Delete users</p> <p>Body Parameters</p> <pre><code>{\n  \"user_name_list\": [\n    \"string\"\n  ]\n}\n</code></pre>"},{"location":"developer-guide/api/1.5.0/#params_4","title":"Params","text":"Name Location Type Required Description username header string yes none body body object no none \u00bb user_name_list body [string] yes \u7528\u6237\u540d\u5217\u8868\uff08User Name List\uff09 <p>Response Examples</p> <p>204 Response</p> <pre><code>{}\n</code></pre>"},{"location":"developer-guide/api/1.5.0/#responses_5","title":"Responses","text":"HTTP Status Code Meaning Description Data schema 204 No Content No Content Inline"},{"location":"developer-guide/api/1.5.0/#responses-data-schema_5","title":"Responses Data Schema","text":""},{"location":"developer-guide/api/1.5.0/#checkpoints","title":"\u6a21\u578b\u6587\u4ef6\uff08Checkpoints\uff09","text":""},{"location":"developer-guide/api/1.5.0/#post-url-createcheckpoint","title":"POST \u901a\u8fc7URL\u4e0a\u4f20\u6a21\u578b\u6587\u4ef6 CreateCheckpoint","text":"<p>POST /checkpoints</p> <p>\u901a\u8fc7URL\u4e0a\u4f20\u6a21\u578b\u6587\u4ef6 Create a new Checkpoint by URL</p> <p>Body Parameters</p> <pre><code>{\n  \"checkpoint_type\": \"ControlNet\",\n  \"params\": {\n    \"message\": \"placeholder for chkpts upload test\"\n  },\n  \"urls\": [\n    \"https://huggingface.co/lllyasviel/ControlNet-v1-1/resolve/main/control_v11p_sd15_canny.pth\"\n  ]\n}\n</code></pre>"},{"location":"developer-guide/api/1.5.0/#params_5","title":"Params","text":"Name Location Type Required Description body body object no none \u00bb checkpoint_type body string yes \u6a21\u578b\u6587\u4ef6\u7c7b\u578b\uff08Checkpoint Type\uff09 \u00bb params body object yes \u53c2\u6570\uff08Params\uff09 \u00bb\u00bb message body string yes \u6a21\u578b\u6587\u4ef6\u4fe1\u606f\uff08Message\uff09 \u00bb urls body [string] yes URLs <p>Response Examples</p> <p>Accepted</p> <pre><code>{\n  \"statusCode\": 202,\n  \"message\": \"Checkpoint creation in progress, please check later\"\n}\n</code></pre>"},{"location":"developer-guide/api/1.5.0/#responses_6","title":"Responses","text":"HTTP Status Code Meaning Description Data schema 202 Accepted Accepted Inline"},{"location":"developer-guide/api/1.5.0/#responses-data-schema_6","title":"Responses Data Schema","text":"<p>HTTP Status Code 202</p> Name Type Required Restrictions Title description \u00bb statusCode integer true none none \u00bb data object true none none \u00bb\u00bb checkpoint object true none none \u00bb\u00bb\u00bb id string true none none \u00bb\u00bb\u00bb type string true none none \u00bb\u00bb\u00bb s3_location string true none none \u00bb\u00bb\u00bb status string true none none \u00bb\u00bb\u00bb params object true none none \u00bb\u00bb\u00bb\u00bb message string true none none \u00bb\u00bb\u00bb\u00bb creator string true none none \u00bb\u00bb\u00bb\u00bb created string true none none \u00bb\u00bb\u00bb\u00bb multipart_upload object true none none \u00bb\u00bb\u00bb\u00bb\u00bb v1-5-pruned-emaonly.safetensors2 object true none none \u00bb\u00bb\u00bb\u00bb\u00bb\u00bb upload_id string true none none \u00bb\u00bb\u00bb\u00bb\u00bb\u00bb bucket string true none none \u00bb\u00bb\u00bb\u00bb\u00bb\u00bb key string true none none \u00bb\u00bb s3PresignUrl object true none none \u00bb\u00bb\u00bb v1-5-pruned-emaonly.safetensors2 [string] true none none \u00bb message string true none none <p></p>"},{"location":"developer-guide/api/1.5.0/#delete-deletecheckpoints","title":"DELETE \u5220\u9664\u6a21\u578b\u6587\u4ef6 DeleteCheckpoints","text":"<p>DELETE /checkpoints</p> <p>\u5220\u9664\u6a21\u578b\u6587\u4ef6 Delete checkpoints</p> <p>Body Parameters</p> <pre><code>{\n  \"checkpoint_id_list\": [\n    \"string\"\n  ]\n}\n</code></pre>"},{"location":"developer-guide/api/1.5.0/#params_6","title":"Params","text":"Name Location Type Required Description body body object no none \u00bb checkpoint_id_list body [string] yes \u6a21\u578b\u6587\u4ef6ID\u5217\u8868\uff08ID List\uff09 <p>Response Examples</p> <p>204 Response</p> <pre><code>{}\n</code></pre>"},{"location":"developer-guide/api/1.5.0/#responses_7","title":"Responses","text":"HTTP Status Code Meaning Description Data schema 204 No Content No Content Inline"},{"location":"developer-guide/api/1.5.0/#responses-data-schema_7","title":"Responses Data Schema","text":""},{"location":"developer-guide/api/1.5.0/#put-updatecheckpoint","title":"PUT \u66f4\u65b0\u6a21\u578b\u6587\u4ef6\u72b6\u6001 UpdateCheckpoint","text":"<p>PUT /checkpoints/{checkpointId}</p> <p>\u66f4\u65b0\u6a21\u578b\u6587\u4ef6\u72b6\u6001 Update Checkpoint</p> <p>Body Parameters</p> <pre><code>{\n  \"checkpoint_id\": \"5b47fc8f-c1b0-47ad-9d85-ad0f08526e28\",\n  \"status\": \"Active\",\n  \"multi_parts_tags\": {\n    \"v1-5-pruned-emaonly.safetensors\": [\n      {\n        \"ETag\": \"\\\"e6279f0ad8bf8048c0d106095c4d4b24\\\"\",\n        \"PartNumber\": 1\n      },\n      {\n        \"ETag\": \"\\\"01a458e7d019140cb792b577596b7918\\\"\",\n        \"PartNumber\": 2\n      },\n      {\n        \"ETag\": \"\\\"296e59a1fb1ea02f6512c5b4c4565bea\\\"\",\n        \"PartNumber\": 3\n      },\n      {\n        \"ETag\": \"\\\"9dd22961ddf32130a22b36dc53f93fd0\\\"\",\n        \"PartNumber\": 4\n      },\n      {\n        \"ETag\": \"\\\"bfb91caed0e9f1aaaca7a0f125e7e96b\\\"\",\n        \"PartNumber\": 5\n      }\n    ]\n  }\n}\n</code></pre>"},{"location":"developer-guide/api/1.5.0/#params_7","title":"Params","text":"Name Location Type Required Description checkpointId path string yes none body body object no none \u00bb status body string yes \u72b6\u6001\uff08Status\uff09 \u00bb multi_parts_tags body object yes ETags \u00bb\u00bb v1-5-pruned-emaonly.safetensors body [object] yes none \u00bb\u00bb\u00bb ETag body string yes none \u00bb\u00bb\u00bb PartNumber body integer yes none <p>Response Examples</p> <p>Success</p> <pre><code>{\n  \"statusCode\": 200,\n  \"checkpoint\": {\n    \"id\": \"d613760c-c8f7-466a-9838-cea3033bf57d\",\n    \"type\": \"Stable-diffusion\",\n    \"s3_location\": \"s3://******/Stable-diffusion/checkpoint/custom/d613760c-c8f7-466a-9838-cea3033bf57d\",\n    \"status\": \"Initial\",\n    \"params\": {\n      \"creator\": \"admin\",\n      \"multipart_upload\": {\n        \"v1-5-pruned-emaonly.safetensors\": {\n          \"bucket\": \"******\",\n          \"upload_id\": \"KFzbB7FwAuCDkR3NRaAO81uNM6E38KrvbB9m9T2dPlE0XUbOXrDB0c9CbhpLA3wFqnN6uTf0qh7HOYOmSXFwicHYOL7XfPMAhsT0cbxRhWvbyKPo8bO_wXrFcbUMDY.ef4vFZNKfdKaRba23Src44CrwGtYjkp3RQ8dEZubjleVTTTz0gaclwjfxmrdpqcZa\",\n          \"key\": \"Stable-diffusion/checkpoint/custom/d613760c-c8f7-466a-9838-cea3033bf57d/v1-5-pruned-emaonly.safetensors\"\n        }\n      },\n      \"message\": \"api-test-message\",\n      \"created\": \"2023-12-07 00:45:59.334826\"\n    }\n  }\n}\n</code></pre>"},{"location":"developer-guide/api/1.5.0/#responses_8","title":"Responses","text":"HTTP Status Code Meaning Description Data schema 200 OK Success Inline"},{"location":"developer-guide/api/1.5.0/#responses-data-schema_8","title":"Responses Data Schema","text":"<p>HTTP Status Code 200</p> Name Type Required Restrictions Title description \u00bb statusCode integer true none Status Code \u00bb headers object true none none \u00bb\u00bb Access-Control-Allow-Headers string true none none \u00bb\u00bb Access-Control-Allow-Origin string true none none \u00bb\u00bb Access-Control-Allow-Methods string true none none \u00bb checkpoint object true none Checkpoint \u00bb\u00bb id string true none ID \u00bb\u00bb type string true none Type \u00bb\u00bb s3_location string true none S3 Key \u00bb\u00bb status string true none Status \u00bb\u00bb params object true none none \u00bb\u00bb\u00bb creator string true none User Name \u00bb\u00bb\u00bb multipart_upload object true none S3 Multipart Upload \u00bb\u00bb\u00bb\u00bb v1-5-pruned-emaonly.safetensors object true none none \u00bb\u00bb\u00bb\u00bb\u00bb bucket string true none none \u00bb\u00bb\u00bb\u00bb\u00bb upload_id string true none none \u00bb\u00bb\u00bb\u00bb\u00bb key string true none none \u00bb\u00bb\u00bb message string true none Message \u00bb\u00bb\u00bb created string true none Created At"},{"location":"developer-guide/api/1.5.0/#endpoints","title":"\u63a8\u7406\u7aef\u70b9\uff08Endpoints\uff09","text":""},{"location":"developer-guide/api/1.5.0/#get-listendpoints","title":"GET \u83b7\u53d6\u7aef\u70b9\u5217\u8868 ListEndpoints","text":"<p>GET /endpoints</p> <p>\u83b7\u53d6\u63a8\u7406\u7aef\u70b9\u5217\u8868 List inference endpoints</p>"},{"location":"developer-guide/api/1.5.0/#params_8","title":"Params","text":"Name Location Type Required Description username header string yes none <p>Response Examples</p> <p>Success</p> <pre><code>{\n  \"statusCode\": 200,\n  \"data\": {\n    \"endpoints\": [\n      {\n        \"EndpointDeploymentJobId\": \"d1253aa5-c884-4989-a7d1-d8806bc4fa59\",\n        \"autoscaling\": false,\n        \"max_instance_number\": \"1\",\n        \"startTime\": \"2024-01-30 07:59:46.842717\",\n        \"status\": null,\n        \"instance_type\": \"ml.g4dn.2xlarge\",\n        \"current_instance_count\": \"1\",\n        \"endTime\": \"2024-01-30 08:03:33.991793\",\n        \"endpoint_status\": \"InService\",\n        \"endpoint_name\": \"esd-real-time-api-test\",\n        \"error\": null,\n        \"endpoint_type\": \"Real-time\",\n        \"owner_group_or_role\": [\n          \"byoc\"\n        ]\n      },\n      {\n        \"EndpointDeploymentJobId\": \"a50ba02e-057f-433d-83be-0f52fdd45b13\",\n        \"autoscaling\": true,\n        \"max_instance_number\": \"1\",\n        \"startTime\": \"2024-01-26 08:19:52.759748\",\n        \"status\": null,\n        \"instance_type\": \"ml.g4dn.xlarge\",\n        \"current_instance_count\": \"0\",\n        \"endTime\": \"2024-02-02 03:58:32.946464\",\n        \"endpoint_status\": \"InService\",\n        \"endpoint_name\": \"esd-async-api-test\",\n        \"error\": null,\n        \"endpoint_type\": \"Async\",\n        \"owner_group_or_role\": [\n          \"IT Operator\"\n        ]\n      }\n    ]\n  },\n  \"message\": \"OK\"\n}\n</code></pre>"},{"location":"developer-guide/api/1.5.0/#responses_9","title":"Responses","text":"HTTP Status Code Meaning Description Data schema 200 OK Success Inline"},{"location":"developer-guide/api/1.5.0/#responses-data-schema_9","title":"Responses Data Schema","text":"<p>HTTP Status Code 200</p> Name Type Required Restrictions Title description \u00bb statusCode integer true none none \u00bb data object true none none \u00bb\u00bb endpoints [object] true none none \u00bb\u00bb\u00bb EndpointDeploymentJobId string true none none \u00bb\u00bb\u00bb autoscaling boolean true none none \u00bb\u00bb\u00bb max_instance_number string true none none \u00bb\u00bb\u00bb startTime string true none none \u00bb\u00bb\u00bb status null true none none \u00bb\u00bb\u00bb instance_type string true none none \u00bb\u00bb\u00bb current_instance_count string true none none \u00bb\u00bb\u00bb endTime string true none none \u00bb\u00bb\u00bb endpoint_status string true none none \u00bb\u00bb\u00bb endpoint_name string true none none \u00bb\u00bb\u00bb error null true none none \u00bb\u00bb\u00bb endpoint_type string true none none \u00bb\u00bb\u00bb owner_group_or_role [string] true none none \u00bb message string true none none <p></p>"},{"location":"developer-guide/api/1.5.0/#post-createendpoint","title":"POST \u521b\u5efa\u7aef\u70b9 CreateEndpoint","text":"<p>POST /endpoints</p> <p>\u521b\u5efa\u63a8\u7406\u7aef\u70b9 Create Endpoint</p> <p>Body Parameters</p> <pre><code>{\n  \"endpoint_name\": \"test\",\n  \"instance_type\": \"ml.g5.2xlarge\",\n  \"initial_instance_count\": \"1\",\n  \"autoscaling_enabled\": false,\n  \"assign_to_roles\": [\n    \"IT Operator\"\n  ]\n}\n</code></pre>"},{"location":"developer-guide/api/1.5.0/#params_9","title":"Params","text":"Name Location Type Required Description body body object no none \u00bb endpoint_name body string yes \u7aef\u70b9\u540d\u79f0\uff08Endpoint Name\uff09 \u00bb endpoint_type body string yes \u7aef\u70b9\u7c7b\u578b\uff08Endpoint Type\uff09 \u00bb instance_type body string yes \u5b9e\u4f8b\u7c7b\u578b\uff08Instance Type\uff09 \u00bb initial_instance_count body integer yes \u521d\u59cb\u5b9e\u4f8b\u6570\uff08Initial Instance Count\uff09 \u00bb autoscaling_enabled body boolean yes \u5f00\u542f Autoscaling\uff08Enable Autoscaling\uff09 \u00bb assign_to_roles body [string] yes \u89d2\u8272\u5217\u8868\uff08Role List\uff09 \u00bb creator body string yes \u521b\u5efa\u8005\u7528\u6237\u540d\uff08Creator User Name\uff09 \u00bb min_instance_number body integer yes \u6700\u5c0f\u5b9e\u4f8b\u6570\uff08Min Instance Count\uff09 \u00bb max_instance_number body integer yes \u6700\u5927\u5b9e\u4f8b\u6570\uff08Max Instance Count\uff09 <p>Response Examples</p> <p>Success</p> <pre><code>{\n  \"statusCode\": 200,\n  \"message\": \"Endpoint deployment started: infer-endpoint-prod\",\n  \"data\": {\n    \"EndpointDeploymentJobId\": \"60b12a2e-c54d-496c-b405-1bc77b17e2f9\",\n    \"autoscaling\": false,\n    \"max_instance_number\": \"1\",\n    \"startTime\": \"2023-12-07 01:08:43.410628\",\n    \"status\": null,\n    \"current_instance_count\": \"0\",\n    \"endTime\": null,\n    \"endpoint_status\": \"Creating\",\n    \"endpoint_name\": \"infer-endpoint-prod\",\n    \"error\": null,\n    \"owner_group_or_role\": [\n      \"IT Operator\"\n    ]\n  }\n}\n</code></pre>"},{"location":"developer-guide/api/1.5.0/#responses_10","title":"Responses","text":"HTTP Status Code Meaning Description Data schema 200 OK Success Inline"},{"location":"developer-guide/api/1.5.0/#responses-data-schema_10","title":"Responses Data Schema","text":"<p>HTTP Status Code 200</p> Name Type Required Restrictions Title description \u00bb statusCode integer true none none \u00bb message string true none none \u00bb data Endpoint true none none \u00bb\u00bb EndpointDeploymentJobId string true none ID \u00bb\u00bb autoscaling boolean true none Autoscaling Enabled \u00bb\u00bb max_instance_number string true none Max Instance Count \u00bb\u00bb startTime string true none Start Time \u00bb\u00bb current_instance_count integer true none Current Instance Count \u00bb\u00bb endTime string true none End Time \u00bb\u00bb endpoint_status string true none Endpoint Status \u00bb\u00bb endpoint_name string true none Endpoint Name \u00bb\u00bb error null true none Error Message \u00bb\u00bb owner_group_or_role [string] true none Roles <p></p>"},{"location":"developer-guide/api/1.5.0/#delete-deleteendpoints","title":"DELETE \u5220\u9664\u7aef\u70b9 DeleteEndpoints","text":"<p>DELETE /endpoints</p> <p>\u5220\u9664\u63a8\u7406\u7aef\u70b9 Delete endpoints</p> <p>Body Parameters</p> <pre><code>{\n  \"endpoint_name_list\": [\n    \"esd-async-test-tmp\"\n  ]\n}\n</code></pre>"},{"location":"developer-guide/api/1.5.0/#params_10","title":"Params","text":"Name Location Type Required Description username header string yes none body body object no none \u00bb endpoint_name_list body [string] yes \u7aef\u70b9\u540d\u5217\u8868\uff08Endpoint Name List\uff09 <p>Response Examples</p> <p>200 Response</p> <pre><code>{}\n</code></pre>"},{"location":"developer-guide/api/1.5.0/#responses_11","title":"Responses","text":"HTTP Status Code Meaning Description Data schema 200 OK Success Inline"},{"location":"developer-guide/api/1.5.0/#responses-data-schema_11","title":"Responses Data Schema","text":""},{"location":"developer-guide/api/1.5.0/#inferences","title":"\u63a8\u7406\uff08Inferences\uff09","text":""},{"location":"developer-guide/api/1.5.0/#post-createinferencejob","title":"POST \u521b\u5efa\u5b9e\u65f6\u63a8\u7406\u4f5c\u4e1a CreateInferenceJob","text":"<p>POST /inferences</p> <p>\u521b\u5efa\u63a8\u7406\u4f5c\u4e1a\uff0c\u521b\u5efa\u6210\u529f\u540e\uff0c\u9700\u8981\u901a\u8fc7\u8fd4\u56de\u7684<code>api_params_s3_upload_url</code> \u4e0a\u4f20\u63a8\u7406\u53c2\u6570 Create inference, When you got response, you have to upload your Payload to <code>api_params_s3_upload_url</code></p> <p>Body Parameters</p> <pre><code>{\n  \"user_id\": \"admin\",\n  \"inference_type\": \"Async\",\n  \"task_type\": \"txt2img\",\n  \"models\": {\n    \"Stable-diffusion\": [\n      \"v1-5-pruned-emaonly.safetensors\"\n    ],\n    \"VAE\": [\n      \"Automatic\"\n    ],\n    \"embeddings\": []\n  },\n  \"filters\": {\n    \"createAt\": 1707141090.135923,\n    \"creator\": \"sd-webui\"\n  }\n}\n</code></pre>"},{"location":"developer-guide/api/1.5.0/#params_11","title":"Params","text":"Name Location Type Required Description username header string yes none body body object no none \u00bb inference_type body string yes \u63a8\u7406\u7c7b\u578b\uff08Inference Type\uff09Async \u00bb task_type body string yes \u4efb\u52a1\u7c7b\u578b\uff08Task Type\uff09txt2img \u00bb models body object yes \u6a21\u578b\u5217\u8868\uff08Model List\uff09 \u00bb\u00bb Stable-diffusion body [string] yes none \u00bb\u00bb VAE body [string] yes none \u00bb\u00bb embeddings body [string] yes none <p>Response Examples</p> <p>Success</p> <pre><code>{\n  \"statusCode\": 201,\n  \"data\": {\n    \"inference\": {\n      \"id\": \"f3421ce5-9ab9-40a2-b33b-3f126de70a52\",\n      \"type\": \"txt2img\",\n      \"api_params_s3_location\": \"s3://xxxx/txt2img/infer_v2/f3421ce5-9ab9-40a2-b33b-3f126de70a52/api_param.json\",\n      \"api_params_s3_upload_url\": \"https://xxxx.s3.amazonaws.com/txt2img/infer_v2/f3421ce5-9ab9-40a2-b33b-3f126de70a52/api_param.json?AWSAccessKeyId=xxxx&amp;Signature=HNp81KZy2%2FDSgz7%2FWP%2FdMIUPz8s%3D&amp;x-amz-security-token=IQoJb3JpZ2luX2VjEOz%2F%2F%2F%2F%2F%2F%2F%2F%2F%2FwEaDmFwLXNvdXRoZWFzdC0xIkcwRQIgNMLgV7at1Vaao4wiFDgLOk4vc3OwD1D%2F4vyd%2Bz5vxhkCIQCnDqwzj3jP%2BIEyc2hCFw%2FNbWOHE%2BLDOVNFfxowLpQFEyrhAwi1%2F%2F%2F%2F%2F%2F%2F%2F%2F%2F8BEAAaDDg2MDY2MDYwMDY5MCIM%2B6KJWPfr9JG4NBwKKrUDxMOpMiWgg2N1uusnm%2FRpoZhBFTe4MnPMNHf5M%2Bb8mTZWHD1JnMNAda1RUzfc9QoL%2BO76bH2QxhHQgmWaCnoX9i4hQCH7U%2F2slmF4EVSktyKWPbKMr%2BooX4uSpCiuU7qXqgjhPKbEn3tmsfH0RVf%2ByaGLXe6G43JAHpArjaJTIRnmH%2Bszbq55F%2FaifIpjhw9IlB6X18uVTzx9vqepS8zF%2Bn7%2F0L0da%2FhNvzz5QbRxbTrzjtDIGKd7aOz2%2BuXM03naXLcRFDRw29wzbMH2Z2P%2Bran9lZsrJBDYlWN4BMV3PSaweOghOOTldPlxylTzWiE86xWmw5kUpgU%2B4A8Te%2BZmJRl6Qqhq7sOZ%2BaaNTAqpYYQhjkFxLFziZjub90%2B7%2B0idFmQN7CpKEmBUTVdrQGAcagAJ9jQRUosTfRfHP%2BiXK1dj2sOOgDsDOZE6X2O9dpJQCiQAJKDDDvBKPn1s%2BDp7KlgRh5AdlBEgUkfcx3fUyhFz7hrVGLHR74hYIScIM714eDMlPvqtPtznr8IKtRvzKRYGxMyN%2FM%2FdvqhDE2WEHOP9M%2B4bvDBxMTDhNngjdZsMs524zVcw79aGrgY6ngEPUkOghS7xw2T1%2FGr6jR8AIjsdZ4ZsC5BZp22jizDO%2FQBmWEH2Z9LJK6Jmf7XwCRagmOuZlc8ZSr929Q48f371DwbhPGJdwjb7VPYqA20CJkcz6mFrU5zwLm%2BqDB2%2BpNVWIBMWeRsoGfcEipeR%2BVRd5DhVh0gCYc9BqDtshpstnhEvesuPSr8syAt5VQwUEAplxtWGFHh%2BPH3RHcgu%2Bw%3D%3D&amp;Expires=1707194752\",\n      \"models\": [\n        {\n          \"id\": \"32a7af23-3763-4289-a6af-2156a2331878\",\n          \"name\": [\n            \"v1-5-pruned-emaonly.safetensors\"\n          ],\n          \"type\": \"Stable-diffusion\"\n        },\n        {\n          \"id\": \"VAE\",\n          \"name\": [\n            \"Automatic\"\n          ],\n          \"type\": \"VAE\"\n        }\n      ]\n    }\n  },\n  \"message\": \"Created\"\n}\n</code></pre>"},{"location":"developer-guide/api/1.5.0/#responses_12","title":"Responses","text":"HTTP Status Code Meaning Description Data schema 200 OK Success Inline"},{"location":"developer-guide/api/1.5.0/#responses-data-schema_12","title":"Responses Data Schema","text":"<p>HTTP Status Code 200</p> Name Type Required Restrictions Title description \u00bb statusCode integer true none none \u00bb data object true none none \u00bb\u00bb inference object true none none \u00bb\u00bb\u00bb id string true none none \u00bb\u00bb\u00bb type string true none none \u00bb\u00bb\u00bb api_params_s3_location string true none none \u00bb\u00bb\u00bb api_params_s3_upload_url string true none none \u00bb\u00bb\u00bb models [object] true none none \u00bb\u00bb\u00bb\u00bb id string true none none \u00bb\u00bb\u00bb\u00bb name [string] true none none \u00bb\u00bb\u00bb\u00bb type string true none none \u00bb message string true none none <p></p>"},{"location":"developer-guide/api/1.5.0/#delete-deleteinferencejobs","title":"DELETE \u5220\u9664\u63a8\u7406\u4f5c\u4e1a DeleteInferenceJobs","text":"<p>DELETE /inferences</p> <p>\u5220\u9664\u63a8\u7406\u4f5c\u4e1a Delete inference jobs</p> <p>Body Parameters</p> <pre><code>{\n  \"inference_id_list\": [\n    \"99\"\n  ]\n}\n</code></pre>"},{"location":"developer-guide/api/1.5.0/#params_12","title":"Params","text":"Name Location Type Required Description username header string yes none body body object no none \u00bb inference_id_list body [string] yes \u63a8\u7406\u4f5c\u4e1aID\u5217\u8868\uff08Inference Job ID List\uff09 <p>Response Examples</p> <p>No Content</p> <pre><code>{}\n</code></pre>"},{"location":"developer-guide/api/1.5.0/#responses_13","title":"Responses","text":"HTTP Status Code Meaning Description Data schema 204 No Content No Content Inline"},{"location":"developer-guide/api/1.5.0/#responses-data-schema_13","title":"Responses Data Schema","text":""},{"location":"developer-guide/api/1.5.0/#put-startinferencejob","title":"PUT \u5f00\u59cb\u63a8\u7406\u4f5c\u4e1a StartInferenceJob","text":"<p>PUT /inferences/{jobId}/start</p> <p>\u5f00\u59cb\u63a8\u7406\u4f5c\u4e1a Start inference job</p>"},{"location":"developer-guide/api/1.5.0/#params_13","title":"Params","text":"Name Location Type Required Description jobId path string yes \u63a8\u7406\u4f5c\u4e1aID\uff08Inference Job ID\uff09 username header string yes none <p>Response Examples</p> <p>Success</p> <pre><code>{\n  \"statusCode\": 202,\n  \"data\": {\n    \"inference\": {\n      \"inference_id\": \"f3421ce5-9ab9-40a2-b33b-3f126de70a52\",\n      \"status\": \"inprogress\",\n      \"endpoint_name\": \"esd-async-97fce5e\",\n      \"output_path\": \"s3://xxxx/sagemaker_output/48159016-c040-4b49-8a1c-b57445946918.out\"\n    }\n  },\n  \"message\": \"Accepted\"\n}\n</code></pre>"},{"location":"developer-guide/api/1.5.0/#responses_14","title":"Responses","text":"HTTP Status Code Meaning Description Data schema 200 OK Success Inline"},{"location":"developer-guide/api/1.5.0/#responses-data-schema_14","title":"Responses Data Schema","text":"<p>HTTP Status Code 200</p> Name Type Required Restrictions Title description \u00bb statusCode integer true none none \u00bb data object true none none \u00bb\u00bb inference object true none none \u00bb\u00bb\u00bb inference_id string true none none \u00bb\u00bb\u00bb status string true none none \u00bb\u00bb\u00bb endpoint_name string true none none \u00bb\u00bb\u00bb output_path string true none none \u00bb message string true none none <p></p>"},{"location":"developer-guide/api/1.5.0/#get-getinferencejob","title":"GET \u83b7\u53d6\u63a8\u7406\u4f5c\u4e1a\u8be6\u60c5 GetInferenceJob","text":"<p>GET /inferences/{jobId}</p> <p>\u83b7\u53d6\u6307\u5b9a\u7684\u63a8\u7406\u4f5c\u4e1a\u8be6\u60c5 Gets a specific inference job</p>"},{"location":"developer-guide/api/1.5.0/#params_14","title":"Params","text":"Name Location Type Required Description jobId path string yes \u63a8\u7406\u4f5c\u4e1aID\uff08Inference Job ID\uff09 <p>Response Examples</p> <p>Success</p> <pre><code>{\n  \"statusCode\": 200,\n  \"data\": {\n    \"img_presigned_urls\": [\n      \"https://xxxx.s3.amazonaws.com/out/9d93e241-745a-4464-bb99-22253c910a01/result/image_0.png?AWSAccessKeyId=xxxx&amp;Signature=%2BIoU%2BUuY0oJmd9yb8B6xJGnRN3Q%3D&amp;x-amz-security-token=IQoJb3JpZ2luX2VjEOz%2F%2F%2F%2F%2F%2F%2F%2F%2F%2FwEaDmFwLXNvdXRoZWFzdC0xIkgwRgIhAJXX4Y7cAU1VjSQK3Ga5Q3oWrK9Pu7e%2BaJ%2FcP89H3DnAAiEAw%2FSIHzSWR01mAw6xb2kqhTgkapA3hRzRlmIgb%2FQuuNsq4QMItf%2F%2F%2F%2F%2F%2F%2F%2F%2F%2FARAAGgw4NjA2NjA2MDA2OTAiDI5nIbuU88AEtxiKeSq1A0em0PiCJywBO91ACgdnEOZhh46%2BcPMBZS8sbo2G7FuNR8VRz4nGIQjp4HdX468AMjoAN7tRidsufLva6L2xTrqmiiEZobRLqc%2FgsJnuxkK0FFbmdW%2B4GSjUWC8NIyICwF4KtL%2FS05fYVQyq5%2FBV%2B%2FVMw0aT5m7ai4E9FkHAgTsMvhxg31L3v%2BPe8A8Y%2BZbuWGdvonMzHE4CYMKAKe6SfvjK7u8U8YHR8IeCFWd90jzlkygIk83oFVOuyybITePaZbxWKuyEvBSJd3T7y46CeThyzc3I8AlmYTrfbuj8BhSqiptedtN5%2BmtMP5q04c3EGpIQ86B13NAUhHDadBeImztplPRLJFUXJsj7AMUHc5I7h8o%2BRXy1xE4GZD382WXsHOKLJ39UkioqRUvWCAozO%2B%2FBsILadh83RUcE7C7HFGd6%2BdnfcWPfjDOr5i%2FI5P%2BeamDL9Cvw9hakaaMSryI8ki3kmMMbubBc2JExOtspIh3SquN2dw6RUtb34mBZerxZhJHNGFsdARrboM7IZA1f8S6oGuMRX7tr67P%2Fgx5alSHiiS%2FvFlNyPqIRk7O3uAlnzLkQ7IgyMO%2FZhq4GOp0B1Fyc2ySOy88xOUvUFDkJHr5dpVYIOkffdqOgGXOi9H0edCyg8xELWZwofu6eT%2FecDv4xvjkHjXyJ%2B3H7KP1%2FmE2IoQSFJBFvI0El1rvg7jsvROTe8QVuNYG9V1PqH3zLLz%2Fw9V1R9fK6ys5ZdlDCm208LClKZq8YlxQWXlOO%2FLMLcR51FJxqu5tqXLAaVIFDNdwO%2BrUyvZx5xMTifg%3D%3D&amp;Expires=1707195462\"\n    ],\n    \"output_presigned_urls\": [\n      \"https://xxxx.s3.amazonaws.com/out/9d93e241-745a-4464-bb99-22253c910a01/result/9d93e241-745a-4464-bb99-22253c910a01_param.json?AWSAccessKeyId=xxxx&amp;Signature=sAi%2ByxVsUBdZfSh34QCMAh%2B2jGg%3D&amp;x-amz-security-token=IQoJb3JpZ2luX2VjEOz%2F%2F%2F%2F%2F%2F%2F%2F%2F%2FwEaDmFwLXNvdXRoZWFzdC0xIkgwRgIhAJXX4Y7cAU1VjSQK3Ga5Q3oWrK9Pu7e%2BaJ%2FcP89H3DnAAiEAw%2FSIHzSWR01mAw6xb2kqhTgkapA3hRzRlmIgb%2FQuuNsq4QMItf%2F%2F%2F%2F%2F%2F%2F%2F%2F%2FARAAGgw4NjA2NjA2MDA2OTAiDI5nIbuU88AEtxiKeSq1A0em0PiCJywBO91ACgdnEOZhh46%2BcPMBZS8sbo2G7FuNR8VRz4nGIQjp4HdX468AMjoAN7tRidsufLva6L2xTrqmiiEZobRLqc%2FgsJnuxkK0FFbmdW%2B4GSjUWC8NIyICwF4KtL%2FS05fYVQyq5%2FBV%2B%2FVMw0aT5m7ai4E9FkHAgTsMvhxg31L3v%2BPe8A8Y%2BZbuWGdvonMzHE4CYMKAKe6SfvjK7u8U8YHR8IeCFWd90jzlkygIk83oFVOuyybITePaZbxWKuyEvBSJd3T7y46CeThyzc3I8AlmYTrfbuj8BhSqiptedtN5%2BmtMP5q04c3EGpIQ86B13NAUhHDadBeImztplPRLJFUXJsj7AMUHc5I7h8o%2BRXy1xE4GZD382WXsHOKLJ39UkioqRUvWCAozO%2B%2FBsILadh83RUcE7C7HFGd6%2BdnfcWPfjDOr5i%2FI5P%2BeamDL9Cvw9hakaaMSryI8ki3kmMMbubBc2JExOtspIh3SquN2dw6RUtb34mBZerxZhJHNGFsdARrboM7IZA1f8S6oGuMRX7tr67P%2Fgx5alSHiiS%2FvFlNyPqIRk7O3uAlnzLkQ7IgyMO%2FZhq4GOp0B1Fyc2ySOy88xOUvUFDkJHr5dpVYIOkffdqOgGXOi9H0edCyg8xELWZwofu6eT%2FecDv4xvjkHjXyJ%2B3H7KP1%2FmE2IoQSFJBFvI0El1rvg7jsvROTe8QVuNYG9V1PqH3zLLz%2Fw9V1R9fK6ys5ZdlDCm208LClKZq8YlxQWXlOO%2FLMLcR51FJxqu5tqXLAaVIFDNdwO%2BrUyvZx5xMTifg%3D%3D&amp;Expires=1707195462\"\n    ],\n    \"startTime\": \"2024-02-05 06:10:52.552528\",\n    \"taskType\": \"txt2img\",\n    \"completeTime\": \"2024-02-05 06:10:56.270528\",\n    \"params\": {\n      \"input_body_presign_url\": \"https://xxxx.s3.amazonaws.com/txt2img/infer_v2/9d93e241-745a-4464-bb99-22253c910a01/api_param.json?AWSAccessKeyId=xxxx&amp;Signature=i8q7mM74oZoqtl6reQCPEklgXkc%3D&amp;x-amz-security-token=IQoJb3JpZ2luX2VjENb%2F%2F%2F%2F%2F%2F%2F%2F%2F%2FwEaDmFwLXNvdXRoZWFzdC0xIkgwRgIhALn6k5IG2ikYnvMq55N8qzxoi0PcGaPgqzQiNfqjU2ueAiEAlD%2B36qo6fakPvbFIO%2FCEBq3OWIZy3PVRc50g11Yh%2BLAq4QMIn%2F%2F%2F%2F%2F%2F%2F%2F%2F%2F%2FARAAGgw4NjA2NjA2MDA2OTAiDP6CmhQmhgcfvjTYpSq1A%2FUxhB9s6Vam%2FSSyEYlgMkVgvRGOntmYPgfgAdGj9j37KcncPzUxzsuttNgVQzP%2Bu9CVAI4QrO02ObsyNPvsy3KOCLmpBRcSmZDqRkPW5%2BTmQwVEAD8AYut7P3CiLt0mIcCcMS8UOZuXbvb6%2FyaPAegYR20bUEfPDiOEvYxyBOrj9%2FdbED5lvSrS3fHucyIVk9wF6tJQQVucqWRA1qllL6Dj%2BIg86dFYkLl2BiYty0Vd0OBT6y51ATmhBJqqz66M5MlKuVvxWZ5ZL7T%2BcNcJyPnukXAADGuBXt6ZjD7QWxve7TQE6aUTHGi6WbF%2FLi0%2BqWOmVoKdootyVT3bCj34rA56NudSO5t0QjBonQ%2BfnFJlB7s1if4UHZUp%2FijPImWJU8uC6PMp9Qshgux3IwCjO6X%2B5GcyWnL1hO5GaljtyERBLQZ8SS2ZHej3kSw9cJ3w%2FN5cCgejLWkbNffQdkyan1XsRav9ufZOHQMNtupz0LEsUIvbctZjip3FLdBp0rwZDfrBEFlpuDEnmzpCbJVIw7BajO7Fqtu%2FzYHeyEH7ZLLHSMFSkK4apzXb2gkhpmM44XalQzu7MLb1ga4GOp0BghTpORcI%2F6KMUkPVI3YuuZ7O5HLQTlq8TYtl9%2BEWIpG8omXyk232ysXfV4hgvVNA1yOfBpa0IEY86LVLIUOGRgNgPtAkBp2Mao9lA0GcAh2XGCCJYRFyvwVU1veBhN5XgNA15dy1Vqp9YC2ZtwMiTxQcy5R6vlm8mI2cKaI0RJWlD9gWhRhlZJZVx5RTgYI6jjhnr0Zis3L52wmd0A%3D%3D&amp;Expires=1707117052\",\n      \"used_models\": {\n        \"Stable-diffusion\": [\n          {\n            \"s3\": \"s3://xxxx/Stable-diffusion/checkpoint/custom/32a7af23-3763-4289-a6af-2156a2331878\",\n            \"id\": \"32a7af23-3763-4289-a6af-2156a2331878\",\n            \"model_name\": \"v1-5-pruned-emaonly.safetensors\",\n            \"type\": \"Stable-diffusion\"\n          }\n        ],\n        \"VAE\": [\n          {\n            \"s3\": \"None\",\n            \"id\": \"VAE\",\n            \"model_name\": \"Automatic\",\n            \"type\": \"VAE\"\n          }\n        ]\n      },\n      \"input_body_s3\": \"s3://xxxx/txt2img/infer_v2/9d93e241-745a-4464-bb99-22253c910a01/api_param.json\",\n      \"sagemaker_inference_instance_type\": \"ml.g4dn.2xlarge\",\n      \"sagemaker_inference_endpoint_id\": \"9ef3c8bf-936e-47bb-a6da-e11e43140fb1\",\n      \"sagemaker_inference_endpoint_name\": \"esd-real-time-9ef3c8b\"\n    },\n    \"InferenceJobId\": \"9d93e241-745a-4464-bb99-22253c910a01\",\n    \"status\": \"succeed\",\n    \"inference_type\": \"Real-time\",\n    \"createTime\": \"2024-02-05 06:10:52.299624\",\n    \"image_names\": [\n      \"image_0.png\"\n    ],\n    \"owner_group_or_role\": [\n      \"admin\"\n    ]\n  },\n  \"message\": \"OK\"\n}\n</code></pre>"},{"location":"developer-guide/api/1.5.0/#responses_15","title":"Responses","text":"HTTP Status Code Meaning Description Data schema 200 OK Success Inline"},{"location":"developer-guide/api/1.5.0/#responses-data-schema_15","title":"Responses Data Schema","text":"<p>HTTP Status Code 200</p> Name Type Required Restrictions Title description \u00bb statusCode integer true none none \u00bb data object true none none \u00bb\u00bb img_presigned_urls [string] true none none \u00bb\u00bb output_presigned_urls [string] true none none \u00bb\u00bb startTime string true none none \u00bb\u00bb taskType string true none none \u00bb\u00bb completeTime string true none none \u00bb\u00bb params object true none none \u00bb\u00bb\u00bb input_body_presign_url string true none none \u00bb\u00bb\u00bb used_models object true none none \u00bb\u00bb\u00bb\u00bb Stable-diffusion [object] true none none \u00bb\u00bb\u00bb\u00bb\u00bb s3 string false none none \u00bb\u00bb\u00bb\u00bb\u00bb id string false none none \u00bb\u00bb\u00bb\u00bb\u00bb model_name string false none none \u00bb\u00bb\u00bb\u00bb\u00bb type string false none none \u00bb\u00bb\u00bb\u00bb VAE [object] true none none \u00bb\u00bb\u00bb\u00bb\u00bb s3 string false none none \u00bb\u00bb\u00bb\u00bb\u00bb id string false none none \u00bb\u00bb\u00bb\u00bb\u00bb model_name string false none none \u00bb\u00bb\u00bb\u00bb\u00bb type string false none none \u00bb\u00bb\u00bb input_body_s3 string true none none \u00bb\u00bb\u00bb sagemaker_inference_instance_type string true none none \u00bb\u00bb\u00bb sagemaker_inference_endpoint_id string true none none \u00bb\u00bb\u00bb sagemaker_inference_endpoint_name string true none none \u00bb\u00bb InferenceJobId string true none none \u00bb\u00bb status string true none none \u00bb\u00bb inference_type string true none none \u00bb\u00bb createTime string true none none \u00bb\u00bb image_names [string] true none none \u00bb\u00bb owner_group_or_role [string] true none none \u00bb message string true none none"},{"location":"developer-guide/api/1.5.0/#trainings","title":"\u8bad\u7ec3\uff08Trainings\uff09","text":""},{"location":"developer-guide/api/1.5.0/#post-createtrainingjob","title":"POST \u521b\u5efa\u8bad\u7ec3\u4f5c\u4e1a CreateTrainingJob","text":"<p>POST /trainings</p> <p>Body Parameters</p> <pre><code>{\n  \"lora_train_type\": \"kohya\",\n  \"params\": {\n    \"training_params\": {\n      \"training_instance_type\": \"ml.g5.2xlarge\",\n      \"s3_model_path\": \"s3://1697072612/Stable-diffusion/checkpoint/custom/05de5ff6-409d-4fd5-a59a-5c58f8fb2d04/v1-5-pruned-emaonly.safetensors\",\n      \"s3_data_path\": \"s3://1697072612/dataset/lego_technic\",\n      \"fm_type\": \"sd_1_5\"\n    },\n    \"config_params\": {\n      \"training\": {\n          \"output_name\": \"demo_xl2024\",\n          \"max_train_epochs\": 100,\n          \"optimizer_type\": \"AdamW8bit\",\n          \"save_every_n_epochs\": 50\n      }\n    }\n  }\n}\n</code></pre>"},{"location":"developer-guide/api/1.5.0/#params_15","title":"Params","text":"Name Location Type Required Description username header string yes The user who start the training body body object no Request body \u00bb lora_train_type body string yes The default value is \"kohya\", keep it as the default value \u00bb params body object yes Parameters \u00bb\u00bb training_params body object yes Training parameters \u00bb\u00bb\u00bb training_instance_type body string yes The instance type used for Kohya training, eg. ml.g5.4xlarge, ml.g4dn.2xlarge \u00bb\u00bb\u00bb s3_model_path body string yes SD model path, it is an S3 path \u00bb\u00bb\u00bb s3_data_path body string yes Dataset path, it is an S3 path \u00bb\u00bb\u00bb fm_type body string yes Foundation model type, valid values are sd_xl and sd_1_5. sd_xl for training based on SDXL model, sd_1_5 for training based on SD 1.5 model \u00bb\u00bb config_params body object no Kohya configuration parameters \u00bb\u00bb\u00bb training body object no Training section, do not change it \u00bb\u00bb\u00bb\u00bb output_name body string no Model output name \u00bb\u00bb\u00bb\u00bb save_every_n_epochs body integer no Save a preview lora model on every N epochs trained \u00bb\u00bb\u00bb\u00bb max_train_epochs body integer no Enforce number of epoch \u00bb\u00bb\u00bb\u00bb optimizer_type body string no Optimizer type <p>You can add Kohya parameters under config_params/training, the parameters can be exported from Kohya GUI. If no config_params, it will use a set of default parameters for the training.</p> <p>Response Examples</p> <p>Success</p> <pre><code>{\n    \"statusCode\": 200,\n    \"data\": {\n        \"id\": \"da2f2934-89f8-4341-bad0-2ca28348ba14\",\n        \"status\": \"Training\",\n        \"created\": \"1710466658.565659\",\n        \"params\": {\n            \"config_params\": {\n                \"training\": {\n                    ...\n                }\n            },\n            \"training_params\": {\n                ...\n            },\n            \"training_type\": \"kohya\"\n        },\n        \"input_location\": \"s3://&lt;sample-bucket&gt;/kohya/train/da2f2934-89f8-4341-bad0-2ca28348ba14/input\",\n        \"output_location\": \"s3://&lt;sample-bucket&gt;/kohya/train/da2f2934-89f8-4341-bad0-2ca28348ba14/output\"\n    },\n    \"message\": \"OK\"\n}\n</code></pre>"},{"location":"developer-guide/api/1.5.0/#responses_16","title":"Responses","text":"HTTP Status Code Meaning Description Data schema 200 OK Success Inline"},{"location":"developer-guide/api/1.5.0/#responses-data-schema_16","title":"Responses Data Schema","text":"<p>HTTP Status Code 200</p> Name Type Required Restrictions Title description \u00bb statusCode integer true none none \u00bb data object true none none \u00bb\u00bb id string true none Training job ID, you can use the id to get the training status \u00bb\u00bb status string true none Training status \u00bb\u00bb params string true none Training params \u00bb\u00bb input_location string true none Training input location \u00bb\u00bb output_location string true none The S3 location of generated models \u00bb message string true none none"},{"location":"developer-guide/api/1.5.0/#get-gettrainingjobstatus","title":"GET \u83b7\u53d6\u8bad\u7ec3\u4f5c\u4e1a\u72b6\u6001 GetTrainingJobStatus","text":"<p>GET /trainings/{jobId}</p>"},{"location":"developer-guide/api/1.5.0/#params_16","title":"Params","text":"Name Location Type Required Description username header string yes The user who get the training job status jobId path string yes Training Job ID <p>Response Examples</p> <p>Success</p> <pre><code>{\n    \"statusCode\": 200,\n    \"data\": {\n        \"id\": \"da2f2934-89f8-4341-bad0-2ca28348ba14\",\n        \"checkpoint_id\": \"da2f2934-89f8-4341-bad0-2ca28348ba14\",\n        \"job_status\": \"Completed\",\n        \"model_id\": \"kohya\",\n        \"params\": {\n          ...\n        },\n        \"timestamp\": \"1710466658.565659\",\n        \"train_type\": \"Stable-diffusion\"\n    },\n    \"message\": \"OK\"\n}\n</code></pre>"},{"location":"developer-guide/api/1.5.0/#responses_17","title":"Responses","text":"HTTP Status Code Meaning Description Data schema 200 OK Success Inline"},{"location":"developer-guide/api/1.5.0/#responses-data-schema_17","title":"Responses Data Schema","text":"<p>HTTP Status Code 200</p> Name Type Required Restrictions Title description \u00bb statusCode integer true none none \u00bb data object true none none \u00bb\u00bb id string true none Training job ID \u00bb\u00bb checkpoint_id string true none Checkpoint ID \u00bb\u00bb job_status string true none Training job status \u00bb\u00bb model_id string true none The default is Kohya \u00bb\u00bb params string true none Training params \u00bb\u00bb timestamp string true none Training date time \u00bb\u00bb train_type string true none Training type, the default is Stable-diffusion \u00bb message string true none none"},{"location":"developer-guide/api/1.5.0/#delete-deletetrainingjobs","title":"DELETE \u5220\u9664\u8bad\u7ec3\u4f5c\u4e1a DeleteTrainingJobs","text":"<p>DELETE /trainings</p> <p>\u5220\u9664\u8bad\u7ec3\u4f5c\u4e1a Delete training jobs</p> <p>Body Parameters</p> <pre><code>{\n  \"training_id_list\": [\n    \"99\"\n  ]\n}\n</code></pre>"},{"location":"developer-guide/api/1.5.0/#params_17","title":"Params","text":"Name Location Type Required Description username header string yes none body body object no none \u00bb training_id_list body [string] yes Training job ID List <p>Response Examples</p> <p>No Content</p> <pre><code>{}\n</code></pre>"},{"location":"developer-guide/api/1.5.0/#responses_18","title":"Responses","text":"HTTP Status Code Meaning Description Data schema 204 No Content No Content Inline"},{"location":"developer-guide/api/1.5.0/#responses-data-schema_18","title":"Responses Data Schema","text":""},{"location":"developer-guide/api/1.5.0/#put-stoptrainingjob","title":"PUT \u505c\u6b62\u6307\u5b9a\u7684\u8bad\u7ec3\u4f5c\u4e1a StopTrainingJob","text":"<p>PUT /trainings/{jobId}/stop</p> <p>\u505c\u6b62\u6307\u5b9a\u7684\u8bad\u7ec3\u4f5c\u4e1a Stop a specific training job</p>"},{"location":"developer-guide/api/1.5.0/#params_18","title":"Params","text":"Name Location Type Required Description username header string yes The user who stop the training job jobId path string yes Training job ID <p>Response Examples</p> <p>Success</p> <pre><code>{\n  \"statusCode\": 200,\n  \"message\": \"OK\"\n}\n</code></pre>"},{"location":"developer-guide/api/1.5.0/#responses_19","title":"Responses","text":"HTTP Status Code Meaning Description Data schema 200 OK Success Inline"},{"location":"developer-guide/api/1.5.0/#responses-data-schema_19","title":"Responses Data Schema","text":""},{"location":"developer-guide/api/1.5.0/#data-schema","title":"Data Schema","text":""},{"location":"developer-guide/api/1.5.0/#tocS_Checkpoint","title":"Checkpoint","text":"<pre><code>{\n  \"id\": \"string\",\n  \"s3Location\": \"string\",\n  \"type\": \"string\",\n  \"status\": \"string\",\n  \"name\": [\n    \"string\"\n  ],\n  \"created\": 0,\n  \"allowed_roles_or_users\": [\n    \"string\"\n  ]\n}\n</code></pre>"},{"location":"developer-guide/api/1.5.0/#attribute","title":"Attribute","text":"Name Type Required Restrictions Title Description id string true none none s3Location string true none none type string true none none status string true none none name [string] true none none created number true none none allowed_roles_or_users [string] true none none"},{"location":"developer-guide/api/1.5.0/#tocS_Endpoint","title":"Endpoint","text":"<pre><code>{\n  \"EndpointDeploymentJobId\": \"string\",\n  \"autoscaling\": true,\n  \"max_instance_number\": \"string\",\n  \"startTime\": \"string\",\n  \"current_instance_count\": 0,\n  \"endTime\": \"string\",\n  \"endpoint_status\": \"string\",\n  \"endpoint_name\": \"string\",\n  \"error\": null,\n  \"owner_group_or_role\": [\n    \"string\"\n  ]\n}\n</code></pre>"},{"location":"developer-guide/api/1.5.0/#attribute_1","title":"Attribute","text":"Name Type Required Restrictions Title Description EndpointDeploymentJobId string true none ID autoscaling boolean true none Autoscaling Enabled max_instance_number string true none Max Instance Count startTime string true none Start Time current_instance_count integer true none Current Instance Count endTime string true none End Time endpoint_status string true none Endpoint Status endpoint_name string true none Endpoint Name error null true none Error Message owner_group_or_role [string] true none Roles"},{"location":"developer-guide/api/1.5.0/#tocS_User","title":"User","text":"<pre><code>{\n  \"username\": \"string\",\n  \"roles\": [\n    \"string\"\n  ],\n  \"creator\": \"string\",\n  \"permissions\": [\n    \"string\"\n  ],\n  \"password\": \"string\"\n}\n</code></pre>"},{"location":"developer-guide/api/1.5.0/#attribute_2","title":"Attribute","text":"Name Type Required Restrictions Title Description username string true none \u7528\u6237\u540d\uff08User Name\uff09 roles [string] true none \u89d2\u8272\u5217\u8868\uff08Roles\uff09 creator string true none \u521b\u5efa\u8005\u7528\u6237\u540d\uff08Creator User Name\uff09 permissions [string] true none \u6743\u9650\u5217\u8868\uff08Permissions\uff09 password string true none \u5bc6\u7801\uff08Password\uff09"},{"location":"developer-guide/api/1.5.0/#tocS_InferenceJob","title":"InferenceJob","text":"<pre><code>{\n  \"startTime\": \"string\",\n  \"taskType\": \"string\",\n  \"completeTime\": \"string\",\n  \"params\": {\n    \"input_body_presign_url\": \"string\",\n    \"used_models\": {\n      \"Stable-diffusion\": [\n        {\n          \"s3\": \"string\",\n          \"id\": \"string\",\n          \"model_name\": \"string\",\n          \"type\": \"string\"\n        }\n      ],\n      \"Lora\": [\n        {\n          \"s3\": \"string\",\n          \"id\": \"string\",\n          \"model_name\": \"string\",\n          \"type\": \"string\"\n        }\n      ]\n    },\n    \"input_body_s3\": \"string\",\n    \"output_path\": \"string\",\n    \"sagemaker_inference_endpoint_id\": \"string\",\n    \"sagemaker_inference_endpoint_name\": \"string\"\n  },\n  \"InferenceJobId\": \"string\",\n  \"status\": \"string\",\n  \"sagemakerRaw\": \"string\",\n  \"image_names\": [\n    \"string\"\n  ],\n  \"owner_group_or_role\": [\n    \"string\"\n  ]\n}\n</code></pre>"},{"location":"developer-guide/api/1.5.0/#attribute_3","title":"Attribute","text":"Name Type Required Restrictions Title Description startTime string true none Start Time taskType string true none Task Type completeTime string true none Complete Time params object true none Params \u00bb input_body_presign_url string true none none \u00bb used_models object true none none \u00bb\u00bb Stable-diffusion [object] true none none \u00bb\u00bb\u00bb s3 string false none none \u00bb\u00bb\u00bb id string false none none \u00bb\u00bb\u00bb model_name string false none none \u00bb\u00bb\u00bb type string false none none \u00bb\u00bb Lora [object] true none none \u00bb\u00bb\u00bb s3 string false none none \u00bb\u00bb\u00bb id string false none none \u00bb\u00bb\u00bb model_name string false none none \u00bb\u00bb\u00bb type string false none none \u00bb input_body_s3 string true none none \u00bb output_path string true none none \u00bb sagemaker_inference_endpoint_id string true none none \u00bb sagemaker_inference_endpoint_name string true none none InferenceJobId string true none Inference Job Id status string true none Status sagemakerRaw string true none Sagemaker Raw image_names [string] true none Images Array owner_group_or_role [string] true none Roles"},{"location":"developer-guide/api/1.5.0/#tocS_Role","title":"Role","text":"<pre><code>{\n  \"role_name\": \"string\",\n  \"creator\": \"string\",\n  \"permissions\": [\n    \"string\"\n  ]\n}\n</code></pre>"},{"location":"developer-guide/api/1.5.0/#attribute_4","title":"Attribute","text":"Name Type Required Restrictions Title Description role_name string true none \u89d2\u8272\u540d\uff08Role Name\uff09 creator string true none \u521b\u5efa\u8005\u7528\u6237\u540d\uff08Creator User Name\uff09 permissions [string] true none \u6743\u9650\u5217\u8868\uff08Permissions\uff09"},{"location":"developer-guide/api/comfy-1.0.0/","title":"Comfy","text":""},{"location":"developer-guide/api/comfy-1.0.0/#_1","title":"\u6267\u884c","text":""},{"location":"developer-guide/api/comfy-1.0.0/#get-getexecute","title":"GET \u83b7\u53d6\u6267\u884c\u8be6\u60c5 GetExecute","text":"<p>GET /executes/prompt_id</p>"},{"location":"developer-guide/api/comfy-1.0.0/#params","title":"Params","text":"Name Location Type Required Description prompt_id query string yes Prompt ID <p>Response Examples</p> <p>Success</p> <pre><code>{\n  \"statusCode\": 200,\n  \"debug\": {\n    \"function_url\": \"https://ap-northeast-1.console.aws.amazon.com/lambda/home?region=ap-northeast-1#/functions/Extension-for-Stable-Diff-GetExecutelambda150CA75A-OnCA61VlLPFO\",\n    \"log_url\": \"https://ap-northeast-1.console.aws.amazon.com/cloudwatch/home?region=ap-northeast-1#logsV2:log-groups/log-group/%2Faws%2Flambda%2FExtension-for-Stable-Diff-GetExecutelambda150CA75A-OnCA61VlLPFO/log-events/2024%2F03%2F31%2F%5B%24LATEST%5D42a5a96838004138bd6cdaab65aa0904\",\n    \"trace_url\": \"https://ap-northeast-1.console.aws.amazon.com/cloudwatch/home?region=ap-northeast-1#xray:traces/1-66094ccd-59bee192247987145ec3f20e\"\n  },\n  \"data\": {\n    \"prompt_id\": \"11111111-1111-1112\",\n    \"need_sync\": true,\n    \"sagemaker_raw\": {},\n    \"prompt_path\": \"\",\n    \"endpoint_name\": \"esd-async-test\",\n    \"status\": \"created\",\n    \"create_time\": \"2024-03-31T11:25:21.493741\",\n    \"inference_type\": \"Async\",\n    \"start_time\": \"2024-03-31T11:25:21.493756\",\n    \"prompt_params\": {\n      \"prompt\": {\n        \"4\": {\n          \"inputs\": {\n            \"ckpt_name\": \"sdXL_v10VAEFix.safetensors\"\n          },\n          \"class_type\": \"CheckpointLoaderSimple\"\n        },\n        \"5\": {\n          \"inputs\": {\n            \"width\": \"1024\",\n            \"height\": \"1024\",\n            \"batch_size\": \"1\"\n          },\n          \"class_type\": \"EmptyLatentImage\"\n        },\n        \"6\": {\n          \"inputs\": {\n            \"clip\": [\n              \"4\",\n              \"1\"\n            ],\n            \"text\": \"evening sunset scenery blue sky nature, glass bottle with a galaxy in it\"\n          },\n          \"class_type\": \"CLIPTextEncode\"\n        },\n        \"7\": {\n          \"inputs\": {\n            \"clip\": [\n              \"4\",\n              \"1\"\n            ],\n            \"text\": \"text, watermark\"\n          },\n          \"class_type\": \"CLIPTextEncode\"\n        },\n        \"10\": {\n          \"inputs\": {\n            \"latent_image\": [\n              \"5\",\n              \"0\"\n            ],\n            \"cfg\": \"8\",\n            \"return_with_leftover_noise\": \"enable\",\n            \"end_at_step\": \"20\",\n            \"positive\": [\n              \"6\",\n              \"0\"\n            ],\n            \"add_noise\": \"enable\",\n            \"steps\": \"25\",\n            \"scheduler\": \"normal\",\n            \"negative\": [\n              \"7\",\n              \"0\"\n            ],\n            \"start_at_step\": \"0\",\n            \"sampler_name\": \"euler\",\n            \"noise_seed\": \"721897303308196\",\n            \"model\": [\n              \"4\",\n              \"0\"\n            ]\n          },\n          \"class_type\": \"KSamplerAdvanced\"\n        },\n        \"11\": {\n          \"inputs\": {\n            \"latent_image\": [\n              \"10\",\n              \"0\"\n            ],\n            \"cfg\": \"8\",\n            \"return_with_leftover_noise\": \"disable\",\n            \"end_at_step\": \"10000\",\n            \"positive\": [\n              \"15\",\n              \"0\"\n            ],\n            \"add_noise\": \"disable\",\n            \"steps\": \"25\",\n            \"scheduler\": \"normal\",\n            \"negative\": [\n              \"16\",\n              \"0\"\n            ],\n            \"start_at_step\": \"20\",\n            \"sampler_name\": \"euler\",\n            \"noise_seed\": \"0\",\n            \"model\": [\n              \"12\",\n              \"0\"\n            ]\n          },\n          \"class_type\": \"KSamplerAdvanced\"\n        },\n        \"12\": {\n          \"inputs\": {\n            \"ckpt_name\": \"sdXL_v10VAEFix.safetensors\"\n          },\n          \"class_type\": \"CheckpointLoaderSimple\"\n        },\n        \"15\": {\n          \"inputs\": {\n            \"clip\": [\n              \"12\",\n              \"1\"\n            ],\n            \"text\": \"evening sunset scenery blue sky nature, glass bottle with a galaxy in it\"\n          },\n          \"class_type\": \"CLIPTextEncode\"\n        },\n        \"16\": {\n          \"inputs\": {\n            \"clip\": [\n              \"12\",\n              \"1\"\n            ],\n            \"text\": \"text, watermark\"\n          },\n          \"class_type\": \"CLIPTextEncode\"\n        },\n        \"17\": {\n          \"inputs\": {\n            \"samples\": [\n              \"11\",\n              \"0\"\n            ],\n            \"vae\": [\n              \"12\",\n              \"2\"\n            ]\n          },\n          \"class_type\": \"VAEDecode\"\n        },\n        \"19\": {\n          \"inputs\": {\n            \"filename_prefix\": \"ComfyUI\",\n            \"images\": [\n              \"17\",\n              \"0\"\n            ]\n          },\n          \"class_type\": \"SaveImage\"\n        }\n      }\n    },\n    \"output_path\": \"\"\n  },\n  \"message\": \"OK\"\n}\n</code></pre>"},{"location":"developer-guide/api/comfy-1.0.0/#responses","title":"Responses","text":"HTTP Status Code Meaning Description Data schema 200 OK Success Inline"},{"location":"developer-guide/api/comfy-1.0.0/#responses-data-schema","title":"Responses Data Schema","text":"<p>HTTP Status Code 200</p> Name Type Required Restrictions Title description \u00bb statusCode integer true none none \u00bb data object true none none \u00bb\u00bb inference object true none none \u00bb\u00bb\u00bb id string true none none \u00bb\u00bb\u00bb type string true none none \u00bb\u00bb\u00bb api_params_s3_location string true none none \u00bb\u00bb\u00bb api_params_s3_upload_url string true none none \u00bb\u00bb\u00bb models [object] true none none \u00bb\u00bb\u00bb\u00bb id string true none none \u00bb\u00bb\u00bb\u00bb name [string] true none none \u00bb\u00bb\u00bb\u00bb type string true none none \u00bb message string true none none"},{"location":"developer-guide/api/comfy-1.0.0/#data-schema","title":"Data Schema","text":""},{"location":"plan-deployment/quotas/","title":"Quotas","text":"<p>To increase the quota of the Amazon SageMaker resources in your AWS account, you can follow these steps:</p> <ol> <li>Log in to the AWS Management Console and navigate to the Service Quotas console.</li> <li>Select AWS services from the navigation panel.</li> <li>Select Amazon SageMaker from the list, or type the service name in the search box.</li> <li>Request a quota increase: If the quota is adjustable, you can select the button or name, then select Request quota increase.</li> <li>Change the quota value: Enter the new value in the Change quota value field. The new value must be greater than the current value.</li> <li> <p>Submit the request: Click Request to submit your quota increase request to AWS.</p> <p>Notice</p> <p>Please note that some AWS services may only be available in certain regions. If you have quota increase requests in different regions, make sure to first select the appropriate region.</p> </li> </ol> <p>After you submit a quota increase request, you can track its status:</p> <ol> <li>View the request status: Return to the Service Quotas console and select Dashboard from the navigation panel. For pending requests, select the status of the request to open the request receipt. The initial status of the request is Pending. When the status changes to Quota Requested, you will see a case number at AWS Support. Select the case number to open your request receipt.</li> <li> <p>Check the quota request history: To view any pending or recently resolved requests, select Quota request history from the Service Quotas console navigation panel.</p> <p>Notice</p> <p>Kindly be noticed that quota increase requests do not receive priority support and may take some time to process. If you have an urgent request, consider contacting AWS Support directly.</p> </li> </ol> <p>Please refer to the following AWS documents for more information about quotas:</p> <ul> <li>Amazon SageMaker Service Quotas</li> <li>Requesting a Quota Increase</li> </ul>"},{"location":"plan-deployment/regions/","title":"Supported regions","text":"<p>As of June 2023, this solution is supported in the following Amazon Web Services Regions:</p> <ul> <li>us-east-1 (Virginia)</li> <li>us-east-2 (Ohio)  </li> <li>us-west-1 (N. California)</li> <li>us-west-2 (Oregon)  </li> <li>ca-central-1 (Canada) </li> <li>sa-east-1 (Sao Paulo)</li> <li>eu-west-1 (Ireland)</li> <li>eu-west-2 (London)</li> <li>eu-west-3 (Paris)   </li> <li>eu-central-1 (Frankfurt)  </li> <li>eu-north-1 (Stockholm)</li> <li>ap-northeast-1 (Tokyo) </li> <li>ap-northeast-2 (Seoul)  </li> <li>ap-northeast-3 (Osaka)</li> <li>ap-southeast-1 (Singapore)  </li> <li>ap-southeast-2 (Sydney)   </li> <li>ap-south-1 (Mumbai)  </li> <li>ap-east-1 (Hong Kong)</li> </ul> <p>Notice</p> <p>Recently, it's observed that newly created Amazon S3 bucket, in us-east-2, us-west-1, us-west-2, there is an issue with CORS that prevents users from uploading configuration files through the browser. Despite updating the CORS configuration, users frequently encounter CORS issues when uploading files using pre-signed URLs. The problem resolves itself after approximately two hours. We are currently in communication with the Amazon S3 Service team regarding this issue. According to that, it's recommended to deploy the solution in us-east-1, ap-northeast-1 or ap-southeast-1.</p>"},{"location":"plan-deployment/security/","title":"Security","text":"<p>When you build systems on AWS infrastructure, security responsibilities are shared between you and AWS. This shared model reduces your operational burden because AWS operates, manages, and controls the components including the host operating system, the virtualization layer, and the physical security of the facilities in which the services operate. For more information about AWS security, visit AWS Cloud Security.</p>"},{"location":"plan-deployment/security/#iam-roles","title":"IAM roles","text":"<p>AWS Identity and Access Management (IAM) roles allow customers to assign granular access policies and permissions to services and users on the AWS Cloud. This solution creates IAM roles that grant the solution\u2019s access between the solution components.</p>"},{"location":"plan-deployment/security/#security-groups","title":"Security groups","text":"<p>The security groups created in this solution are designed to control and isolate network traffic between the solution components. We recommend that you review the security groups and further restrict access as needed once the deployment is up and running.</p>"},{"location":"solution-overview/concepts/","title":"Concepts","text":"<p>This section describes key concepts and defines terminology specific to this solution: </p>"},{"location":"solution-overview/features-and-benefits/","title":"Features and benefits","text":""},{"location":"solution-overview/features-and-benefits/#features","title":"Features","text":"<p>This solution supports the cloud-based operations of the following native features/third-party extensions of Stable Diffusion WebUI:</p> Feature Supported Version Note Stable Diffusion WebUI V1.8.0 Support LCM as official sampler, SDXL-Inpaint, etc img2img V1.8.0 Support all features except batch txt2img V1.8.0 LoRa V1.2.1 ControlNet V1.1.410 Support SDXL + ControlNet Inference Tiled Diffusion &amp; VAE f9f8073e64f4e682838f255215039ba7884553bf ReActor for Stable Diffusion 0.6.1 Extras V1.8.0 API rembg 3d9eedbbf0d585207f97d5b21e42f32c0042df70 API kohya_ss"},{"location":"solution-overview/features-and-benefits/#benefits","title":"Benefits","text":"<ul> <li> <p>Convenient Installation: This solution leverages CloudFormation for easy deployment of AWS middleware. Combined with the installation of the native Stable Diffusion WebUI (WebUI) features and third-party extensions, users can quickly utilize Amazon SageMaker's cloud resources for inference, training and finetuning tasks.</p> </li> <li> <p>Community Native: This solution is implemented as an extension, allowing users to seamlessly use their existing WebUI without any changes. Additionally, the solution's code is open source and follows a non-intrusive design, enabling users to keep up with community-related feature iterations, such as popular plugins like ControlNet, and LoRa.</p> </li> <li> <p>High Scalability: This solution decouples the WebUI interface from the backend, allowing the WebUI to launch on supported terminals without GPU restrictions. Existing training, inference, and other tasks can be migrated to Amazon SageMaker through the provided extension functionalities, providing users with elastic computing resources, cost reduction, flexibility, and scalability.</p> </li> </ul>"},{"location":"solution-overview/use-cases/","title":"Use cases","text":"<p>"},{"location":"user-guide/CloudAssetsManage/","title":"Main Tab","text":"<p>This chapter will provide a detailed overview of the convenient cloud-based resource management approach offered by this solution.</p>"},{"location":"user-guide/CloudAssetsManage/#upload-model","title":"Upload Model","text":"<p>To use extra models for inference, you could upload model through steps below in two ways, and follow steps in txt2img or img2imgto inference with extra models as need.</p> <p>Method One: 1. Within Stable Diffusion WebUI, navigate to solution main tab Amazon SageMaker, find session Cloud Models Management.  2. Select the from WebUI tab, which means to upload the model from the models file path where the WebUI service is deployed. 3. Enter the model path where the WebUI service is deployed under corresponding model text box.</p> <p>Note: You can upload multiple kinds of models by entering multiple local model paths in text box. 4. Click Upload Models to Cloud to start uploading process. 5.Message will appear on left right once uploading completes.</p> <p>Method Two: 1. Within Stable Diffusion WebUI, navigate to solution main tab Amazon SageMaker main tab, find session Cloud Models Management.  2. Select the from Laptop tab, which means to upload the model from the local path to access the WebUI. 3. Select the type of model to upload, currently supports six types: SD Checkpoints, Textual Inversion, LoRA model, ControlNet model, Hypernetwork, VAE 3. Select the model file to be uploaded locally.</p> <p>Note: You can select models multiple, but subject to browser restrictions, it is best to select no more than 10 files, and the total size should not exceed 8g. 4. Click Upload Models to Cloud to start uploading process. 5. The upload will be uploaded in pieces asynchronously based on the file size and quantity. After each piece is uploaded, you will see a prompt under the Choose File button</p> <p>Method Three: 1. Within Stable Diffusion WebUI, navigate to the Amazon SageMaker main tab and find session Cloud Models Management. 2. Select the from URL tab. This option allows you to upload models to S3 from URLs where the models are downloaded.  3. Choose the type of model you want to upload. Currently, six types are supported: SD Checkpoints, Textual Inversion, LoRA model, ControlNet model, Hypernetwork, VAE. 4. In the URL list (Comma-separated in English) input box, enter the URL list of model downloads, separated by commas. 5. In the Models Description (Optional) input box, provide a JSON-formatted description (optional).</p> <p>Note: You can select multiple model files, but it's advisable not to exceed 5 files in your selection, with a total size not exceeding 12 GB, as constrained by Lambda memory and concurrent thread limits. 6. Click Upload Models to Cloud to start the model upload process. 7. You will see a prompt in the Label section below indicating the progress of the upload request.</p>"},{"location":"user-guide/CloudAssetsManage/#amazon-sagemaker-endpoint-management","title":"Amazon SageMaker Endpoint Management","text":""},{"location":"user-guide/CloudAssetsManage/#deploy-new-endpoint","title":"Deploy new endpoint","text":"<ol> <li>Navigate to the Amazon SageMaker main tab of the solution. In the Cloud Assets Management module, locate the Deploy New SageMaker Endpoint section.</li> <li>The default deployment type for the solution is ml.g5.2xlarge, with 1 instance. The endpoint autoscaling feature is enabled by default. Simply click the Deploy button to initiate the deployment of the Sagemaker endpoint.</li> <li> <p>If users wish to specify the endpoint name, instance type, and maximum instance count for the endpoint's instances, they can check the Advanced Endpoint Configuration checkbox. This will display additional parameters for user input. The following table lists the names and descriptions of these parameters:</p> Parameter Name Description Endpoint Name (Optional) If you need to specify a name for the Sagemaker endpoint, enter it in this input box. If not modified, the default endpoint name will be esd-type-XXXXX. Endpoint Type Select the inference type Async/Real time for the deployed Endpoint Instance Type Select the instance type for the deployed endpoint from the dropdown list. Max Instance Number Choose the maximum number of instances for the deployed endpoint from the dropdown list. If Autoscaling is selected, Sagemaker will elastically scale between 0 and the Max Instance Number based on average CPU usage. Enable Autoscaling If this checkbox is selected, Async inference will scale elastically between 0 and Max Instance Numbers based on the average backlog of each instance, while Real-time inference will scale elastically between 1 and Max Instance Numbers based on the average number of calls per instance. Min Instance Number If Enable Autoscaling is true, This value will be the minimum number of Endpoint instances </li> <li> <p>After selecting the default endpoint configuration or setting up the advanced endpoint configuration, click Deploy. You'll see a message indicating Endpoint deployment started under Label.    </p> </li> <li> <p>You can navigate to tab txt2img, session Amazon SageMaker Inference, refresh and select drop down list Select Cloud SageMaker Endpoint to check all the deployment status of endpoints.</p> <p>Note: The format of the drop down list is\uff1aendpoint name+ deployment status (including Creating/Failed/InService)+deployment completing time.</p> </li> <li> <p>It will take around 3 minutes for endpoint deployment status changing to InService, which indicates that the endpoint has been successfully deployed.</p> </li> </ol>"},{"location":"user-guide/CloudAssetsManage/#delete-deployed-endpoints","title":"Delete deployed endpoints","text":"<ol> <li>Refresh and select endpoint(s) under the dropdown list of Select Cloud SageMaker Endpoint.</li> <li>Click Delete, message Endpoint delete completed will appear on the left side, which indicates that the selected endpoint(s) has been successfully deleted.</li> </ol>"},{"location":"user-guide/CloudAssetsManage/#aws-dataset-management","title":"AWS Dataset Management","text":""},{"location":"user-guide/CloudAssetsManage/#create-dataset","title":"Create Dataset","text":"<p>In functions such as model fine-tuning, it is necessary to provide a file of images for fine-tuning work. This functional module helps users quickly upload images to the cloud.</p> <ol> <li> <p>Navigate to main tab Amazon SageMaker, section AWS Dataset Management\uff0csub-tab Create. </p> </li> <li> <p>Click Click to Upload a File, in the local file browser that pops up, confirm to select all the images required for one model fine-tuning.</p> </li> <li>Enter file name in Dataset Name, enter file description in Dataset Description, click Create Dataset.</li> <li>The message Complete Dataset XXXX creation will be displayed on the right side once the process completes.</li> </ol>"},{"location":"user-guide/CloudAssetsManage/#explore-dataset","title":"Explore Dataset","text":"<p>After the dataset has been successfully uploaded, this feature module allows users to quickly obtain the corresponding cloud-based address of the dataset. Users can copy this address and paste it into the location where the collection of images needs to be uploaded.</p> <ol> <li>Navigate to Amazon SageMaker\uff0cAWS Dataset Management session\uff0cBrowse tab, refresh the list Dataset From Cloud and select desired dataset.</li> <li>Field dataset s3 location will display the corresponding S3 path on the cloud. User can copy to use as need.</li> </ol>"},{"location":"user-guide/controlnet-guide/","title":"Use Controlnet for inference","text":"<p>You can open controlnet sub-session, by combining the use of native functionalities txt2img or img2img along with the added panel of Amazon SageMaker Inference in the solution, the inference tasks involving cloud resources can be invoked.</p>"},{"location":"user-guide/controlnet-guide/#controlnet-user-guide","title":"Controlnet User Guide","text":""},{"location":"user-guide/controlnet-guide/#multi-controlnet-user-guide","title":"Multi-controlnet user guide","text":"<ol> <li> <p>Navigate to Settings tab. In the left sidebar, select ControlNet, and adjust the Multi ControlNet in the right panel: Max models amount (requires restart) setting to specify the number of ControlNets (1-10). Afterward, restart the webUI for the changes to take effect, and the Multi ControlNet configuration will be active. </p> </li> <li> <p>Navigate to txt2img or img2img tab\uff0can equal number of ControlNet units will appear. For example, below shows 3 controlNet units started simultaneously. </p> </li> </ol>"},{"location":"user-guide/controlnet-guide/#openpose-user-guide","title":"openpose User Guide","text":"<ol> <li>Open ControlNet panel, choose ControlNet Unit 0, check Enable, select openpose from Preprocessor, and then upload am image. </li> <li>Similar to local inference, you can customize the inference parameters of the native ControlNet. The controlnet model \"control_openpose-fp16.safetensors\" should be uploaded to the cloud before generate. </li> <li>Click Generate on Cloud after finished all parameters setting.</li> <li>Refresh and select the top Inference Job from Inference Job: Time-Type-Status-Uid, inference result will be displayed in Output section.</li> <li>Subsequent actions. You can click Save or others as need to perform further processing. </li> </ol>"},{"location":"user-guide/endpoint-autoscaling/","title":"SageMaker Async Endpoint Autoscaling","text":"<p>Amazon SageMaker provides capabilities to automatically scale model inference endpoints in response to the changes in traffic patterns. This document explains how autoscaling is enabled for an Amazon SageMaker async endpoint created by this Solution</p>"},{"location":"user-guide/endpoint-autoscaling/#overview","title":"Overview","text":"<p>The solution provided enables autoscaling for a specific endpoint and variant in Amazon SageMaker. Autoscaling is managed through two scaling policies:</p> <ol> <li>Target Tracking Scaling Policy: This policy adjusts the desired instance count based on the <code>CPUUtilization</code> metric. It aims to keep the CPU utilization at 50%. If the average CPU utilization is above 50 for 5 minutes, the alarm will trigger application autoscaling to scale out Sagemaker endpoint until it reach the maximum number of instances.</li> </ol> <p>The scaling policy based on CPU utilization is defined using the <code>put_scaling_policy</code> method. It specifies the following parameters:     - <code>TargetValue</code>: 50% CPU utilization     - <code>ScaleInCooldown</code>: 300 seconds     - <code>ScaleOutCooldown</code>: 300 seconds</p> <ol> <li>Step Scaling Policy: This policy allows you to define steps for scaling adjustments based on the <code>HasBacklogWithoutCapacity</code> metric. This policy is created to let application autoscaling increase the instance number from 0 to 1 when there is inference request but endpoint has 0 instance.</li> </ol> <p>The step scaling policy is defined to adjust the capacity based on the <code>HasBacklogWithoutCapacity</code> metric. It includes: - <code>AdjustmentType</code>: ChangeInCapacity - <code>MetricAggregationType</code>: Average - <code>Cooldown</code>: 300 seconds - <code>StepAdjustments</code>: Specifies the scaling adjustments based on the size of the alarm breach.</p>"},{"location":"user-guide/endpoint-autoscaling/#example-of-sagemaker-async-endpoint-autoscaling-policy-below","title":"Example of Sagemaker async endpoint autoscaling policy below:","text":"<pre><code>{\n    \"ScalingPolicies\": [\n        {\n            \"PolicyARN\": \"Your PolicyARN\",\n            \"PolicyName\": \"HasBacklogWithoutCapacity-ScalingPolicy\",\n            \"ServiceNamespace\": \"sagemaker\",\n            \"ResourceId\": \"endpoint/esd-type-c356f91/variant/prod\",\n            \"ScalableDimension\": \"sagemaker:variant:DesiredInstanceCount\",\n            \"PolicyType\": \"StepScaling\",\n            \"StepScalingPolicyConfiguration\": {\n                \"AdjustmentType\": \"ChangeInCapacity\",\n                \"StepAdjustments\": [\n                    {\n                        \"MetricIntervalLowerBound\": 0.0,\n                        \"ScalingAdjustment\": 1\n                    }\n                ],\n                \"Cooldown\": 300,\n                \"MetricAggregationType\": \"Average\"\n            },\n            \"Alarms\": [\n                {\n                    \"AlarmName\": \"stable-diffusion-hasbacklogwithoutcapacity-alarm\",\n                    \"AlarmARN\": \"Your AlarmARN\"\n                }\n            ],\n            \"CreationTime\": \"2023-08-14T13:53:10.480000+08:00\"\n        },\n        {\n            \"PolicyARN\": \"Your PolicyARN\",\n            \"PolicyName\": \"CPUUtil-ScalingPolicy\",\n            \"ServiceNamespace\": \"sagemaker\",\n            \"ResourceId\": \"endpoint/esd-type-c356f91/variant/prod\",\n            \"ScalableDimension\": \"sagemaker:variant:DesiredInstanceCount\",\n            \"PolicyType\": \"TargetTrackingScaling\",\n            \"TargetTrackingScalingPolicyConfiguration\": {\n                \"TargetValue\": 50.0,\n                \"CustomizedMetricSpecification\": {\n                    \"MetricName\": \"CPUUtilization\",\n                    \"Namespace\": \"/aws/sagemaker/Endpoints\",\n                    \"Dimensions\": [\n                        {\n                            \"Name\": \"EndpointName\",\n                            \"Value\": \"esd-type-c356f91\"\n                        },\n                        {\n                            \"Name\": \"VariantName\",\n                            \"Value\": \"prod\"\n                        }\n                    ],\n                    \"Statistic\": \"Average\",\n                    \"Unit\": \"Percent\"\n                },\n                \"ScaleOutCooldown\": 300,\n                \"ScaleInCooldown\": 300\n            },\n            \"Alarms\": [\n                {\n                    \"AlarmName\": \"TargetTracking-endpoint/esd-type-c356f91/variant/prod-AlarmHigh-c915b303-9048-40b2-99a7-f5b7e49ab7c4\",\n                    \"AlarmARN\": \"Your AlarmARN\"\n                },\n                {\n                    \"AlarmName\": \"TargetTracking-endpoint/esd-type-c356f91/variant/prod-AlarmLow-2fd61f99-c2e5-4ac6-9722-54030c3f0216\",\n                    \"AlarmARN\": \"Your AlarmARN\"\n                }\n            ],\n            \"CreationTime\": \"2023-08-14T13:53:10.182000+08:00\"\n        }\n    ]\n}\n</code></pre>"},{"location":"user-guide/img2img-guide/","title":"img2img Guide","text":"<p>You can open the img2img tab and use the original region along with the Amazon SageMaker Inference to perform inference on the cloud.</p>"},{"location":"user-guide/img2img-guide/#img2img-user-guide","title":"img2img user guide","text":""},{"location":"user-guide/img2img-guide/#standard-process-for-different-functional-labels-in-img2img","title":"Standard process for different functional labels in img2img","text":"<ol> <li>Navigate to tab img2img, find panel Amazon SageMaker Inference.</li> <li> <p>Input parameters for inference. The same as local inference, you could edit parameters in native fields for model name (stable diffusion checkpoint, extra networks:Lora, Hypernetworks, Textural Inversion and VAE), prompts, negative prompts, sampling parameters, inference parameters and etc. For functions img2img, sketch, inpaint, inpaint sketch and inpaint upload, you could upload and modify images in the native way.</p> <p>Notice</p> <p>The model files used in the inference should be uploaded to the cloud before generate, which can be referred to the introduction of chapter Cloud Assets Management</p> <ol> <li>Select Stable Diffusion checkpoint model that will be used for cloud inference through Stable Diffusion Checkpoint Used on Cloud, and the button Generate will change to button Generate on Cloud. </li> </ol> <p>Notice</p> <p>This field is mandatory. If you choose an endpoint that is in any other state or leave it empty, an error will occur when you click Generate on Cloud to initiate cloud-based inference.</p> </li> <li> <p>ClickGenerate on Cloud\u3002</p> </li> <li>Check inference result. Fresh and select the top option among Inference Job Histories: Time-Type-Status-UUID dropdown list. The Output section in the top-right area of the img2img tab will display the results of the inference once completed, including the generated images, prompts, and inference parameters. Based on this, you can perform subsequent workflows such as clicking Save or Send to extras. <p>Note: The list is sorted in reverse chronological order based on the inference time, with the most recent inference task appearing at the top. Each record is named in the format of inference time -&gt; job type(txt2img/img2img/interrogate_clip/interrogate_deepbooru) -&gt; inference status(succeed/in progress/fail) -&gt;inference id.</p> </li> </ol>"},{"location":"user-guide/img2img-guide/#img2img-label","title":"img2img label","text":"<ol> <li>Upload the original image to img2img and enter prompts, and click Generate on Cloud.</li> <li>Select corresponding Inference Job ID, the generated image will present on the right Output session. </li> </ol>"},{"location":"user-guide/img2img-guide/#sketch-label","title":"Sketch label","text":"<ol> <li>Start Stable Diffusion WebUI with \u2018--gradio-img2img-tool color-sketch\u2019 on the command line\uff0cupload the whiteboard background image to the Sketch tab.</li> <li> <p>Use a brush to draw the corresponding sketch and prepare prompts, and click Generate on Cloud. </p> </li> <li> <p>Select corresponding Inference Job ID, the generated image will present on the right Output session. </p> </li> </ol>"},{"location":"user-guide/img2img-guide/#inpaint-label","title":"Inpaint label","text":"<ol> <li>Upload original image to Inpaint label.</li> <li> <p>Establish masks with brushes and prepare prompts, and click Generate on Cloud. </p> </li> <li> <p>Select corresponding Inference Job ID, the generated image will present on the right Output session. </p> </li> </ol>"},{"location":"user-guide/img2img-guide/#inpaint-sketch-label","title":"Inpaint Sketch label","text":"<ol> <li>Start Stable Diffusion WebUI with \u2018--gradio-img2img-tool color-sketch\u2019\uff0cand upload original image into Inpaint Sketchlabel with prompts.</li> <li> <p>Establish masks with brushes, and click Generate on Cloud. </p> </li> <li> <p>Select corresponding Inference Job ID, the generated image will present on the right Output session. </p> </li> </ol>"},{"location":"user-guide/img2img-guide/#inpaint-upload-label","title":"Inpaint Upload label","text":"<ol> <li> <p>Upload original image and mask image to Inpaint Upload label and prepare prompts, for example large eyes. </p> </li> <li> <p>Click Generate on Cloud, and select corresponding Inference Job ID, the generated image will present on the right Output session. </p> </li> </ol>"},{"location":"user-guide/img2img-guide/#interrogate-clipdeepbooru","title":"Interrogate clip/deepbooru","text":"<ol> <li>Navigate to img2img tab\uff0copen Amazon SageMaker Inference panel.</li> <li> <p>Interrogate only need to upload image to img2img tab. </p> </li> <li> <p>Select inference endpoint. Click refresh button on the right of Select Cloud SageMaker Endpoint, select one inference endpoint in InService state.</p> </li> <li>Click Interrogate CLIP on cloud or Interrogate DeepBooru on cloud.</li> <li>Check inference result. Refresh the dropdown list of Inference Job JDs, check the topmost Inference Job ID that match the inference submission timestamp to review the inference result. </li> </ol>"},{"location":"user-guide/img2img-guide/#continuous-inference-scenario","title":"Continuous Inference Scenario","text":"<ol> <li>Following the General Inference Scenario, complete the parameter inputs and click Generate on Cloud to submit the initial inference task.</li> <li>Wait for the appearance of a new Inference ID in the right-side Output section.</li> <li>Once the new Inference ID appears, you can proceed to click Generate on Cloud again for the next inference task. </li> </ol>"},{"location":"user-guide/multi-user/","title":"Configure API and Multiple Users.","text":""},{"location":"user-guide/multi-user/#configure-api","title":"Configure API","text":"<ol> <li>Open AWS CloudFormation Console, and select the main stack that successfully deployed.</li> <li>Navigate the Outputs tab, and copy the information under APIGatewayUrl and ApiGatewayUrlToken.</li> <li>Open Stable Diffusion webUI, navigate to the 'Amazon SageMaker' tab, paste information from step 2 into fields API URL and API Token. Create a super admin user name and password by entering information in field Username and Password. And click Test Connection &amp; Update Setting.</li> <li>Message Successfully Connected &amp; Setting Updated will be printed once front UI successfully connected with backend cloud resource. The configuration file has been updated to automatically display corresponding information upon future launches of the webUI.</li> <li>Restart the WebUI in the background to ensure that all functionalities take effect.</li> </ol>"},{"location":"user-guide/multi-user/#multiple-user-management","title":"Multiple User Management","text":"<p>IT Operator role users can log in and navigate to the Amazon SageMaker tab, and then to the API and User Settings sub-tab to manage roles and users.</p>"},{"location":"user-guide/multi-user/#role-management","title":"Role Management","text":"<p>Under the Role Management tab, roles can be viewed, created, and configured with corresponding permissions. After creating a new role, click Next Page or refresh the page to update the Role Table.</p>"},{"location":"user-guide/multi-user/#permissions-description","title":"Permissions Description","text":"Name Scope Permissions role:all Role Create role, obtain role list, delete role user:all User Create users, obtain user lists, delete users, update users sagemaker_endpoint:all Endpoint Create endpoints, obtain endpoint list, delete endpoints inference:all Inference Create and start reasoning tasks, obtain reasoning task list, delete reasoning tasks checkpoint:all Checkpoint Create model files, obtain a list of model files, delete model files train:all Training Create training assignments, obtain training assignment list, delete training assignments"},{"location":"user-guide/multi-user/#users-management","title":"Users Management","text":""},{"location":"user-guide/multi-user/#add-new-user","title":"Add New User","text":"<ol> <li> <p>To meet your specific requirements, create new users, passwords, and roles. Once you click on \"Next Page,\" the newly created users will be visible. To ensure the configuration changes related to the new users take effect in the web UI server, it is necessary to restart the web UI again. </p> </li> <li> <p>Open another incognito browser, and log in using the newly created username and password.</p> </li> <li>When accessing the Amazon SageMaker tab, the displayed content may vary for different users.</li> </ol>"},{"location":"user-guide/multi-user/#manage-existing-user","title":"Manage Existing User","text":"<ol> <li>Select the corresponding user from User Table that is expected to be updated, including Password or User Role update. The user information will be displayed in field Update a User Setting.</li> <li>Update the corresponding fields as need, and click Upsert a User to save the change. Otherwise click Delete a User to delete the selected user.</li> </ol>"},{"location":"user-guide/preparation/","title":"Connect Stable Diffusion WebUI with AWS Account","text":""},{"location":"user-guide/preparation/#prerequisites","title":"Prerequisites","text":"<p>You need to have successfully completed the deployment of the solution.</p>"},{"location":"user-guide/preparation/#steps","title":"Steps","text":"<ol> <li>Visit AWS CloudFormation Console.</li> <li>Select the root stack of the solution you created from stack list, rather than the nested stacks. The nested stacks will be indicated as 'NESTED' next to their names in the list.</li> <li>Open Outputs tab, find URL of APIGatewayUrl and copy\u3002</li> <li>Open Stable Diffusion WebUI, navigate to Amazon SageMakertab\uff0cpaste the URL copied from step 3 under API URL. Paste API token copied from step 3 into field of API Token. Click Update Setting\uff0cconfig updated to local config! message will appear. </li> <li>Click Test Connection, Successfully Connected message will appear, which indicates that Stable Diffusion WebUI has been successfully connected with AWS account of the backend deployed stack.</li> </ol>"},{"location":"user-guide/training-guide/","title":"Training Guide","text":"<p>The training is based on Kohya-SS. Kohya-SS is a Python library for finetuning stable diffusion model which is friendly for consumer-grade GPU and compatible with the Stable Diffusion WebUI. The solution can do LoRA training both on SDXL and SD 1.5.</p>"},{"location":"user-guide/training-guide/#training-user-guide","title":"Training User Guide","text":""},{"location":"user-guide/training-guide/#prepare-foundation-model","title":"Prepare Foundation Model","text":"<p>Please refresh and check the dropdown list under Model to ensure that the required base models for this training session are available. If not, you can use the Upload Models in Cloud Asset Management to upload the base models under the SD Checkpoints category.</p> <p>Alternatively, you can also upload local SD models to an S3 bucket using the following command:</p> <p>Upload your local SD model to S3 bucket by following commands <pre><code># Configure credentials\naws configure\n# Copy local SD model to S3 bucket\naws s3 cp *safetensors s3://&lt;bucket_path&gt;/&lt;model_path&gt;\n</code></pre></p>"},{"location":"user-guide/training-guide/#prepare-dataset","title":"Prepare Dataset","text":"<p>The dataset is an indispensable input for model training and fine-tuning.</p> <p>Taking the example of training a LoRa model containing specific image style, users need to prepare a set of images in advance. These images should have a consistent theme or style, with moderate resolution, and a few dozen images are sufficient. For this image set, users need to preprocess it to adapt to the capabilities of the base model. For example, it is recommended to crop the images to a size of 512 x 512 pixels in preparation for training tasks on the LoRa model based on the base model SD 1.5.</p> <p>After preprocessing, it is necessary to annotate the images in  dataset, that is, add textual descriptions to each training image and save them as text files with the same name as the corresponding images. Image annotation can be complete through the built-in image annotation function in the SD WebUI or through multi-modal large models. The annotations made by the model may not be perfect, so manual review and adjustments are recommended to ensure the final effect.</p> <p>Please refer Dataset Management in Cloud Asset Management to upload dataset to cloud.</p> <p>In addition, user could also upload dataset by execute AWS CLI command to copy the dataset to S3 bucket <pre><code>aws s3 sync local_folder_name s3://&lt;bucket_name&gt;/&lt;folder_name&gt;\n</code></pre></p> <p>Notice: The folder name should be started with a number and underline, eg. 100_demo. Each image should be paired with a txt file with the same name, eg. demo1.png, demo1.txt, the demo1.txt contains the captions of demo1.png.</p>"},{"location":"user-guide/training-guide/#train-the-lora-model","title":"Train the LoRa Model","text":"<p>After the base model and dataset have been uploaded successfully, please follow these steps: 1. Navigate to Train Management tab, select desired training instance type in Training Instance Type, select the base model type for this training job in the FM Type field (i.e., based on Stable Diffusion 1.5 or Stable Diffusion XL). Then, choose the base model for this training session using the Model option. Finally, select the dataset that this training session will depend on using the Dataset option. 2. Update the training parameters in config_params, and click Format config Params to check and correct updated params file format. 3. Click Create Training Job to submit training job. 4. Refresh Trainings List to follow status of training job. 5. The successfully trained LoRa model can be selected directly in txt2img or img2img, and used in image generation. More details refer to txt2img guide or img2img guide.</p>"},{"location":"user-guide/training-guide/#invoke-training-api","title":"Invoke Training API","text":"<p>Refer to API document to invoke training API.</p>"},{"location":"user-guide/txt2img-guide/","title":"txt2img Guide","text":"<p>You can open the txt2img tab to perform text-to-image inference using the combined functionality of the native region of txt2img and the newly added \"Amazon SageMaker Inference\" panel in the solution. This allows you to invoke cloud resources for txt2img inference tasks.</p>"},{"location":"user-guide/txt2img-guide/#txt2img-user-guide","title":"txt2img user guide","text":""},{"location":"user-guide/txt2img-guide/#general-inference-scenario","title":"General Inference Scenario","text":"<ol> <li>Navigate to txt2img tab, find Amazon SageMaker Inference panel.  </li> <li> <p>Enter the required parameters for inference. Similar to local inference, you can customize the inference parameters of the native txt2img, including model name (stable diffusion checkpoint, extra networks:Lora, Hypernetworks, Textural Inversion and VAE), prompts, negative prompts, sampling parameters, and inference parameters. For VAE model switch, navigate to Settings tab, select Stable Diffusion in the left panel, and then select VAE model in SD VAE (choose VAE model: Automatic = use one with same filename as checkpoint; None = use VAE from checkpoint). </p> <p>Notice</p> <p>The model files used in the inference should be uploaded to the cloud before generate, which can be referred to the introduction of chapter Cloud Assets Management. The current model list displays options for both local and cloud-based models. For cloud-based inference, it is recommended to select models with the sagemaker keyword as a suffix, indicating that they have been uploaded to the cloud for subsequent inference.</p> </li> <li> <p>Select Stable Diffusion checkpoint model that will be used for cloud inference through Stable Diffusion Checkpoint Used on Cloud, and the button Generate will change to button Generate on Cloud. </p> <p>Notice</p> <p>This field is mandatory. </p> </li> <li> <p>Finish setting all the parameters, and then click Generate on Cloud.</p> </li> <li> <p>Check inference result. Fresh and select the top option among Inference Job dropdown list, the Output section in the top-right area of the txt2img tab will display the results of the inference once completed, including the generated images, prompts, and inference parameters. Based on this, you can perform subsequent workflows such as clicking Save or Send to img2img.</p> <p>Note\uff1a The list is sorted in reverse chronological order based on the inference time, with the most recent inference task appearing at the top. Each record is named in the format of inference time -&gt; inference id.</p> </li> </ol> <p></p>"},{"location":"user-guide/txt2img-guide/#continuous-inference-scenario","title":"Continuous Inference Scenario","text":"<ol> <li>Following the General Inference Scenario, complete the parameter inputs and click Generate on Cloud to submit the initial inference task.</li> <li>Wait for the appearance of a new Inference IDin the right-side \"Output\" section.</li> <li>Once the new Inference ID appears, you can proceed to click Generate on Cloud again for the next inference task.</li> </ol>"},{"location":"user-guide/txt2img-guide/#inference-using-extra-models-like-lora","title":"Inference Using Extra Model(s) like Lora","text":"<ol> <li>Please follow the native version of WebUI, and upload a copy of the required model (including Textual Inversion, Hypernetworks, Checkpoints or Lora models) to local machine.</li> <li>Upload corresponding models to the cloud, following Upload Models.</li> <li>Select the required model, adjust the weights of the model in prompts field, and click Generate on Cloud to inference images.</li> </ol>"},{"location":"user-guide/txt2img-guide/#inference-job-histories","title":"Inference Job Histories","text":"<p>Inference Job displays the latest 10 inference jobs by default, following naming format Time-Type-Status-UUID. Checking Show All will display all inference jobs the account has. Checking Advanced Inference Job filter and apply filters as need will provide users a customized inference job list.</p>"}]}